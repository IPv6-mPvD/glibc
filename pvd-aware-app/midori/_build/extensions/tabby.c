/* tabby.c generated by valac 0.40.4, the Vala compiler
 * generated from tabby.vala, do not modify */

/*
   Copyright (C) 2013 André Stösel <andre@stoesel.de>

   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Lesser General Public
   License as published by the Free Software Foundation; either
   version 2.1 of the License, or (at your option) any later version.

   See the file COPYING for the full license text.
*/


#include <glib.h>
#include <glib-object.h>
#include "midori/midori-app.h"
#include "tabby.h"
#include "katze/katze.h"
#include "midori/midori-browser.h"
#include <gtk/gtk.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include "midori/midori-view.h"
#include <gdk/gdk.h>
#include "midori/midori-websettings.h"
#include "midori-core.h"
#include "webkit/webkit.h"
#include <glib/gi18n-lib.h>
#include "midori/midori-array.h"
#include "midori/midori-extension.h"
#include "midori/sokoke.h"

enum  {
	TABBY_BASE_STORAGE_0_PROPERTY,
	TABBY_BASE_STORAGE_APP_PROPERTY,
	TABBY_BASE_STORAGE_NUM_PROPERTIES
};
static GParamSpec* tabby_base_storage_properties[TABBY_BASE_STORAGE_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
enum  {
	TABBY_BASE_SESSION_0_PROPERTY,
	TABBY_BASE_SESSION_BROWSER_PROPERTY,
	TABBY_BASE_SESSION_STATE_PROPERTY,
	TABBY_BASE_SESSION_NUM_PROPERTIES
};
static GParamSpec* tabby_base_session_properties[TABBY_BASE_SESSION_NUM_PROPERTIES];
#define __g_slist_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_slist_free__g_free0_ (var), NULL)))
typedef struct _Block1Data Block1Data;
#define _g_ptr_array_unref0(var) ((var == NULL) ? NULL : (var = (g_ptr_array_unref (var), NULL)))
typedef struct _Block2Data Block2Data;

#define TABBY_LOCAL_TYPE_SESSION (tabby_local_session_get_type ())
#define TABBY_LOCAL_SESSION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TABBY_LOCAL_TYPE_SESSION, TabbyLocalSession))
#define TABBY_LOCAL_SESSION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TABBY_LOCAL_TYPE_SESSION, TabbyLocalSessionClass))
#define TABBY_LOCAL_IS_SESSION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TABBY_LOCAL_TYPE_SESSION))
#define TABBY_LOCAL_IS_SESSION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TABBY_LOCAL_TYPE_SESSION))
#define TABBY_LOCAL_SESSION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TABBY_LOCAL_TYPE_SESSION, TabbyLocalSessionClass))

typedef struct _TabbyLocalSession TabbyLocalSession;
typedef struct _TabbyLocalSessionClass TabbyLocalSessionClass;
typedef struct _TabbyLocalSessionPrivate TabbyLocalSessionPrivate;
enum  {
	TABBY_LOCAL_SESSION_0_PROPERTY,
	TABBY_LOCAL_SESSION_ID_PROPERTY,
	TABBY_LOCAL_SESSION_NUM_PROPERTIES
};
static GParamSpec* tabby_local_session_properties[TABBY_LOCAL_SESSION_NUM_PROPERTIES];
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))

#define TABBY_LOCAL_TYPE_STORAGE (tabby_local_storage_get_type ())
#define TABBY_LOCAL_STORAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TABBY_LOCAL_TYPE_STORAGE, TabbyLocalStorage))
#define TABBY_LOCAL_STORAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TABBY_LOCAL_TYPE_STORAGE, TabbyLocalStorageClass))
#define TABBY_LOCAL_IS_STORAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TABBY_LOCAL_TYPE_STORAGE))
#define TABBY_LOCAL_IS_STORAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TABBY_LOCAL_TYPE_STORAGE))
#define TABBY_LOCAL_STORAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TABBY_LOCAL_TYPE_STORAGE, TabbyLocalStorageClass))

typedef struct _TabbyLocalStorage TabbyLocalStorage;
typedef struct _TabbyLocalStorageClass TabbyLocalStorageClass;
typedef struct _TabbyLocalStoragePrivate TabbyLocalStoragePrivate;
enum  {
	TABBY_LOCAL_STORAGE_0_PROPERTY,
	TABBY_LOCAL_STORAGE_NUM_PROPERTIES
};
static GParamSpec* tabby_local_storage_properties[TABBY_LOCAL_STORAGE_NUM_PROPERTIES];
typedef struct _Block3Data Block3Data;

#define TABBY_TYPE_MANAGER (tabby_manager_get_type ())
#define TABBY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TABBY_TYPE_MANAGER, TabbyManager))
#define TABBY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TABBY_TYPE_MANAGER, TabbyManagerClass))
#define TABBY_IS_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TABBY_TYPE_MANAGER))
#define TABBY_IS_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TABBY_TYPE_MANAGER))
#define TABBY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TABBY_TYPE_MANAGER, TabbyManagerClass))

typedef struct _TabbyManager TabbyManager;
typedef struct _TabbyManagerClass TabbyManagerClass;
typedef struct _TabbyManagerPrivate TabbyManagerPrivate;
enum  {
	TABBY_MANAGER_0_PROPERTY,
	TABBY_MANAGER_NUM_PROPERTIES
};
static GParamSpec* tabby_manager_properties[TABBY_MANAGER_NUM_PROPERTIES];
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _TabbyBaseStoragePrivate {
	MidoriApp* _app;
};

struct _TabbyBaseSessionPrivate {
	MidoriBrowser* _browser;
	TabbySessionState _state;
};

struct _Block1Data {
	int _ref_count_;
	TabbyBaseSession* self;
	GList* items;
	GList* u_items;
	gboolean delay;
	gboolean should_delay;
	MidoriBrowser* browser;
};

struct _Block2Data {
	int _ref_count_;
	TabbyBaseSession* self;
	MidoriView* view;
};

struct _TabbyLocalSession {
	TabbyBaseSession parent_instance;
	TabbyLocalSessionPrivate * priv;
};

struct _TabbyLocalSessionClass {
	TabbyBaseSessionClass parent_class;
};

struct _TabbyLocalSessionPrivate {
	gint64 _id;
	MidoriDatabase* database;
};

struct _TabbyLocalStorage {
	TabbyBaseStorage parent_instance;
	TabbyLocalStoragePrivate * priv;
};

struct _TabbyLocalStorageClass {
	TabbyBaseStorageClass parent_class;
};

struct _TabbyLocalStoragePrivate {
	MidoriDatabase* database;
};

struct _Block3Data {
	int _ref_count_;
	TabbyLocalStorage* self;
	KatzeArray* tabs;
};

struct _TabbyManager {
	MidoriExtension parent_instance;
	TabbyManagerPrivate * priv;
};

struct _TabbyManagerClass {
	MidoriExtensionClass parent_class;
};

struct _TabbyManagerPrivate {
	TabbyBaseStorage* storage;
};


extern gint tabby_IDLE_RESTORE_COUNT;
gint tabby_IDLE_RESTORE_COUNT = 13;
extern MidoriApp* tabby_APP;
MidoriApp* tabby_APP = NULL;
static gpointer tabby_base_storage_parent_class = NULL;
static TabbyIStorageIface * tabby_base_storage_tabby_istorage_parent_iface = NULL;
static gpointer tabby_base_session_parent_class = NULL;
static TabbyISessionIface * tabby_base_session_tabby_isession_parent_iface = NULL;
static gpointer tabby_local_session_parent_class = NULL;
static gpointer tabby_local_storage_parent_class = NULL;
static gpointer tabby_manager_parent_class = NULL;

#define TABBY_BASE_STORAGE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TABBY_BASE_TYPE_STORAGE, TabbyBaseStoragePrivate))
static KatzeArray* tabby_base_storage_real_get_saved_sessions (TabbyBaseStorage* self);
static TabbyBaseSession* tabby_base_storage_real_get_new_session (TabbyBaseStorage* self);
static void tabby_base_storage_init_sessions (TabbyBaseStorage* self,
                                       KatzeArray* sessions);
static void tabby_base_storage_real_restore_last_sessions (TabbyIStorage* base);
static void tabby_base_storage_real_import_session (TabbyBaseStorage* self,
                                             KatzeArray* tabs);
static void tabby_base_storage_finalize (GObject * obj);
static void _vala_tabby_base_storage_get_property (GObject * object,
                                            guint property_id,
                                            GValue * value,
                                            GParamSpec * pspec);
static void _vala_tabby_base_storage_set_property (GObject * object,
                                            guint property_id,
                                            const GValue * value,
                                            GParamSpec * pspec);
#define TABBY_BASE_SESSION_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TABBY_BASE_TYPE_SESSION, TabbyBaseSessionPrivate))
static void _g_free0_ (gpointer var);
static inline void _g_slist_free__g_free0_ (GSList* self);
static void tabby_base_session_real_add_item (TabbyBaseSession* self,
                                       KatzeItem* item);
static void tabby_base_session_real_uri_changed (TabbyBaseSession* self,
                                          MidoriView* view,
                                          const gchar* uri);
static void tabby_base_session_real_data_changed (TabbyBaseSession* self,
                                           MidoriView* view);
static void tabby_base_session_real_tab_added (TabbyBaseSession* self,
                                        MidoriBrowser* browser,
                                        MidoriView* view);
static void tabby_base_session_real_tab_removed (TabbyBaseSession* self,
                                          MidoriBrowser* browser,
                                          MidoriView* view);
static void tabby_base_session_real_tab_switched (TabbyBaseSession* self,
                                           MidoriView* old_view,
                                           MidoriView* new_view);
static void tabby_base_session_real_tab_reordered (TabbyBaseSession* self,
                                            GtkWidget* tab,
                                            guint pos);
static void tabby_base_session_real_remove (TabbyBaseSession* self);
static KatzeArray* tabby_base_session_real_get_tabs (TabbyBaseSession* self);
static gdouble tabby_base_session_real_get_max_sorting (TabbyBaseSession* self);
static void tabby_base_session_real_attach (TabbyISession* base,
                                     MidoriBrowser* browser);
static void _tabby_base_session_tab_added_midori_browser_add_tab (MidoriBrowser* _sender,
                                                           MidoriView* tab,
                                                           gpointer self);
static void tabby_base_session_helper_data_changed (TabbyBaseSession* self,
                                             MidoriBrowser* browser,
                                             MidoriView* view);
static void _tabby_base_session_helper_data_changed_midori_browser_add_tab (MidoriBrowser* _sender,
                                                                     MidoriView* tab,
                                                                     gpointer self);
static void _tabby_base_session_tab_removed_midori_browser_remove_tab (MidoriBrowser* _sender,
                                                                MidoriView* tab,
                                                                gpointer self);
static void _tabby_base_session_tab_switched_midori_browser_switch_tab (MidoriBrowser* _sender,
                                                                 MidoriView* old_view,
                                                                 MidoriView* new_view,
                                                                 gpointer self);
static gboolean _tabby_base_session_delete_event_gtk_widget_delete_event (GtkWidget* _sender,
                                                                   GdkEvent* event,
                                                                   gpointer self);
static void _tabby_base_session_tab_reordered_gtk_notebook_page_reordered (GtkNotebook* _sender,
                                                                    GtkWidget* p0,
                                                                    guint p1,
                                                                    gpointer self);
static void tabby_base_session_real_restore (TabbyISession* base,
                                      MidoriBrowser* browser);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static gboolean __lambda6_ (Block1Data* _data1_);
static void tabby_base_session_helper_reorder_tabs (TabbyBaseSession* self,
                                             GPtrArray* new_tabs);
static gboolean ___lambda6__gsource_func (gpointer self);
static void tabby_base_session_real_close (TabbyBaseSession* self);
static void tabby_base_session_load_status (TabbyBaseSession* self,
                                     GObject* _view,
                                     GParamSpec* pspec);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static void ____lambda4_ (Block2Data* _data2_);
static void _____lambda4__g_object_notify (GObject* _sender,
                                    GParamSpec* pspec,
                                    gpointer self);
static void ____lambda5_ (Block2Data* _data2_);
static void _____lambda5__g_object_notify (GObject* _sender,
                                    GParamSpec* pspec,
                                    gpointer self);
static void _tabby_base_session_load_status_g_object_notify (GObject* _sender,
                                                      GParamSpec* pspec,
                                                      gpointer self);
static void tabby_base_session_helper_duplicate_tab (TabbyBaseSession* self,
                                              MidoriView* view,
                                              MidoriView* new_view,
                                              MidoriNewView where,
                                              gboolean user_initiated);
static void _tabby_base_session_helper_duplicate_tab_midori_view_new_view (MidoriView* _sender,
                                                                    MidoriView* new_view,
                                                                    MidoriNewView where,
                                                                    gboolean user_initiated,
                                                                    gpointer self);
static gint __lambda7_ (TabbyBaseSession* self,
                 gdouble* a,
                 gdouble* b);
static gint ___lambda7__gcompare_data_func (gconstpointer a,
                                     gconstpointer b,
                                     gpointer self);
static gint __lambda8_ (gdouble* a,
                 gdouble* b);
static gboolean _double_equal (const gdouble * s1,
                        const gdouble * s2);
static gint ___lambda8__gcompare_func (gconstpointer a,
                                gconstpointer b);
static gdouble* _double_dup (gdouble* self);
static GObject * tabby_base_session_constructor (GType type,
                                          guint n_construct_properties,
                                          GObjectConstructParam * construct_properties);
static void tabby_base_session_finalize (GObject * obj);
static void _vala_tabby_base_session_get_property (GObject * object,
                                            guint property_id,
                                            GValue * value,
                                            GParamSpec * pspec);
static void _vala_tabby_base_session_set_property (GObject * object,
                                            guint property_id,
                                            const GValue * value,
                                            GParamSpec * pspec);
GType tabby_local_session_get_type (void) G_GNUC_CONST;
#define TABBY_LOCAL_SESSION_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TABBY_LOCAL_TYPE_SESSION, TabbyLocalSessionPrivate))
static void tabby_local_session_real_add_item (TabbyBaseSession* base,
                                        KatzeItem* item);
gint64 tabby_local_session_get_id (TabbyLocalSession* self);
static void tabby_local_session_real_uri_changed (TabbyBaseSession* base,
                                           MidoriView* view,
                                           const gchar* uri);
static void tabby_local_session_real_data_changed (TabbyBaseSession* base,
                                            MidoriView* view);
static void tabby_local_session_real_tab_added (TabbyBaseSession* base,
                                         MidoriBrowser* browser,
                                         MidoriView* view);
static void tabby_local_session_real_tab_removed (TabbyBaseSession* base,
                                           MidoriBrowser* browser,
                                           MidoriView* view);
static void tabby_local_session_real_tab_switched (TabbyBaseSession* base,
                                            MidoriView* old_view,
                                            MidoriView* new_view);
static void tabby_local_session_real_tab_reordered (TabbyBaseSession* base,
                                             GtkWidget* tab,
                                             guint pos);
static void tabby_local_session_real_remove (TabbyBaseSession* base);
static void tabby_local_session_real_close (TabbyBaseSession* base);
static KatzeArray* tabby_local_session_real_get_tabs (TabbyBaseSession* base);
static gdouble tabby_local_session_real_get_max_sorting (TabbyBaseSession* base);
TabbyLocalSession* tabby_local_session_new (MidoriDatabase* database);
TabbyLocalSession* tabby_local_session_construct (GType object_type,
                                                  MidoriDatabase* database);
static void tabby_local_session_set_id (TabbyLocalSession* self,
                                 gint64 value);
TabbyLocalSession* tabby_local_session_new_with_id (MidoriDatabase* database,
                                                    gint64 id);
TabbyLocalSession* tabby_local_session_construct_with_id (GType object_type,
                                                          MidoriDatabase* database,
                                                          gint64 id);
static void tabby_local_session_finalize (GObject * obj);
static void _vala_tabby_local_session_get_property (GObject * object,
                                             guint property_id,
                                             GValue * value,
                                             GParamSpec * pspec);
static void _vala_tabby_local_session_set_property (GObject * object,
                                             guint property_id,
                                             const GValue * value,
                                             GParamSpec * pspec);
GType tabby_local_storage_get_type (void) G_GNUC_CONST;
#define TABBY_LOCAL_STORAGE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TABBY_LOCAL_TYPE_STORAGE, TabbyLocalStoragePrivate))
static KatzeArray* tabby_local_storage_real_get_saved_sessions (TabbyBaseStorage* base);
static void tabby_local_storage_real_import_session (TabbyBaseStorage* base,
                                              KatzeArray* tabs);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static gboolean ___lambda9_ (Block3Data* _data3_,
                      GError** error);
static gboolean ____lambda9__midori_database_callback (gpointer self,
                                                GError** error);
static TabbyBaseSession* tabby_local_storage_real_get_new_session (TabbyBaseStorage* base);
TabbyLocalStorage* tabby_local_storage_new (MidoriApp* app);
TabbyLocalStorage* tabby_local_storage_construct (GType object_type,
                                                  MidoriApp* app);
static void tabby_local_storage_finalize (GObject * obj);
GType tabby_manager_get_type (void) G_GNUC_CONST;
#define TABBY_MANAGER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TABBY_TYPE_MANAGER, TabbyManagerPrivate))
static gboolean tabby_manager_load_session (TabbyManager* self);
static gboolean tabby_manager_execute_commands (TabbyManager* self);
static gboolean _tabby_manager_execute_commands_gsource_func (gpointer self);
static void tabby_manager_set_open_uris (TabbyManager* self,
                                  MidoriBrowser* browser);
static void _tabby_manager_set_open_uris_midori_app_add_browser (MidoriApp* _sender,
                                                          MidoriBrowser* browser,
                                                          gpointer self);
static void tabby_manager_browser_added (TabbyManager* self,
                                  MidoriBrowser* browser);
static void tabby_manager_browser_removed (TabbyManager* self,
                                    MidoriBrowser* browser);
static void tabby_manager_activated (TabbyManager* self,
                              MidoriApp* app);
static void _tabby_manager_browser_added_midori_app_add_browser (MidoriApp* _sender,
                                                          MidoriBrowser* browser,
                                                          gpointer self);
static void _tabby_manager_browser_removed_midori_app_remove_browser (MidoriApp* _sender,
                                                               MidoriBrowser* browser,
                                                               gpointer self);
static gboolean _tabby_manager_load_session_gsource_func (gpointer self);
static void tabby_manager_deactivated (TabbyManager* self);
TabbyManager* tabby_manager_new (void);
TabbyManager* tabby_manager_construct (GType object_type);
static void _tabby_manager_activated_midori_extension_activate (MidoriExtension* _sender,
                                                         MidoriApp* app,
                                                         gpointer self);
static void _tabby_manager_deactivated_midori_extension_deactivate (MidoriExtension* _sender,
                                                             gpointer self);
static void tabby_manager_finalize (GObject * obj);


KatzeArray*
tabby_istorage_get_saved_sessions (TabbyIStorage* self)
{
#line 19 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 19 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_ISTORAGE_GET_INTERFACE (self)->get_saved_sessions (self);
#line 428 "tabby.c"
}


TabbyBaseSession*
tabby_istorage_get_new_session (TabbyIStorage* self)
{
#line 20 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 20 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_ISTORAGE_GET_INTERFACE (self)->get_new_session (self);
#line 439 "tabby.c"
}


void
tabby_istorage_restore_last_sessions (TabbyIStorage* self)
{
#line 21 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 21 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISTORAGE_GET_INTERFACE (self)->restore_last_sessions (self);
#line 450 "tabby.c"
}


void
tabby_istorage_import_session (TabbyIStorage* self,
                               KatzeArray* tabs)
{
#line 22 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 22 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISTORAGE_GET_INTERFACE (self)->import_session (self, tabs);
#line 462 "tabby.c"
}


static void
tabby_istorage_base_init (TabbyIStorageIface * iface)
{
#line 18 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	static gboolean initialized = FALSE;
#line 18 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (!initialized) {
#line 18 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		initialized = TRUE;
#line 475 "tabby.c"
	}
}


GType
tabby_istorage_get_type (void)
{
	static volatile gsize tabby_istorage_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_istorage_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyIStorageIface), (GBaseInitFunc) tabby_istorage_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType tabby_istorage_type_id;
		tabby_istorage_type_id = g_type_register_static (G_TYPE_INTERFACE, "TabbyIStorage", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (tabby_istorage_type_id, G_TYPE_OBJECT);
		g_once_init_leave (&tabby_istorage_type_id__volatile, tabby_istorage_type_id);
	}
	return tabby_istorage_type_id__volatile;
}


KatzeArray*
tabby_isession_get_tabs (TabbyISession* self)
{
#line 26 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 26 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_ISESSION_GET_INTERFACE (self)->get_tabs (self);
#line 502 "tabby.c"
}


void
tabby_isession_add_item (TabbyISession* self,
                         KatzeItem* item)
{
#line 28 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 28 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISESSION_GET_INTERFACE (self)->add_item (self, item);
#line 514 "tabby.c"
}


void
tabby_isession_attach (TabbyISession* self,
                       MidoriBrowser* browser)
{
#line 30 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 30 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISESSION_GET_INTERFACE (self)->attach (self, browser);
#line 526 "tabby.c"
}


void
tabby_isession_restore (TabbyISession* self,
                        MidoriBrowser* browser)
{
#line 32 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 32 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISESSION_GET_INTERFACE (self)->restore (self, browser);
#line 538 "tabby.c"
}


void
tabby_isession_remove (TabbyISession* self)
{
#line 34 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 34 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISESSION_GET_INTERFACE (self)->remove (self);
#line 549 "tabby.c"
}


void
tabby_isession_close (TabbyISession* self)
{
#line 36 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 36 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_ISESSION_GET_INTERFACE (self)->close (self);
#line 560 "tabby.c"
}


static void
tabby_isession_base_init (TabbyISessionIface * iface)
{
#line 25 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	static gboolean initialized = FALSE;
#line 25 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (!initialized) {
#line 25 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		initialized = TRUE;
#line 573 "tabby.c"
	}
}


GType
tabby_isession_get_type (void)
{
	static volatile gsize tabby_isession_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_isession_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyISessionIface), (GBaseInitFunc) tabby_isession_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType tabby_isession_type_id;
		tabby_isession_type_id = g_type_register_static (G_TYPE_INTERFACE, "TabbyISession", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (tabby_isession_type_id, G_TYPE_OBJECT);
		g_once_init_leave (&tabby_isession_type_id__volatile, tabby_isession_type_id);
	}
	return tabby_isession_type_id__volatile;
}


GType
tabby_session_state_get_type (void)
{
	static volatile gsize tabby_session_state_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_session_state_type_id__volatile)) {
		static const GEnumValue values[] = {{TABBY_SESSION_STATE_OPEN, "TABBY_SESSION_STATE_OPEN", "open"}, {TABBY_SESSION_STATE_CLOSED, "TABBY_SESSION_STATE_CLOSED", "closed"}, {TABBY_SESSION_STATE_RESTORING, "TABBY_SESSION_STATE_RESTORING", "restoring"}, {0, NULL, NULL}};
		GType tabby_session_state_type_id;
		tabby_session_state_type_id = g_enum_register_static ("TabbySessionState", values);
		g_once_init_leave (&tabby_session_state_type_id__volatile, tabby_session_state_type_id);
	}
	return tabby_session_state_type_id__volatile;
}


static KatzeArray*
tabby_base_storage_real_get_saved_sessions (TabbyBaseStorage* self)
{
#line 51 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_storage_get_saved_sessions'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 51 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return NULL;
#line 614 "tabby.c"
}


KatzeArray*
tabby_base_storage_get_saved_sessions (TabbyBaseStorage* self)
{
#line 51 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 51 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_BASE_STORAGE_GET_CLASS (self)->get_saved_sessions (self);
#line 625 "tabby.c"
}


static TabbyBaseSession*
tabby_base_storage_real_get_new_session (TabbyBaseStorage* self)
{
#line 52 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_storage_get_new_session'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 52 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return NULL;
#line 636 "tabby.c"
}


TabbyBaseSession*
tabby_base_storage_get_new_session (TabbyBaseStorage* self)
{
#line 52 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 52 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_BASE_STORAGE_GET_CLASS (self)->get_new_session (self);
#line 647 "tabby.c"
}


void
tabby_base_storage_start_new_session (TabbyBaseStorage* self)
{
	KatzeArray* sessions = NULL;
	KatzeArray* _tmp0_;
#line 54 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 55 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = katze_array_new (TABBY_BASE_TYPE_SESSION);
#line 55 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sessions = _tmp0_;
#line 56 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_storage_init_sessions (self, sessions);
#line 54 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (sessions);
#line 666 "tabby.c"
}


static void
tabby_base_storage_real_restore_last_sessions (TabbyIStorage* base)
{
	TabbyBaseStorage * self;
	KatzeArray* sessions = NULL;
	KatzeArray* _tmp0_;
#line 59 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyBaseStorage*) base;
#line 60 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_base_storage_get_saved_sessions (self);
#line 60 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sessions = _tmp0_;
#line 61 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_storage_init_sessions (self, sessions);
#line 59 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (sessions);
#line 686 "tabby.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self ? g_object_ref (self) : NULL;
#line 695 "tabby.c"
}


static void
tabby_base_storage_init_sessions (TabbyBaseStorage* self,
                                  KatzeArray* sessions)
{
	GList* items = NULL;
	GList* _tmp2_;
	GList* _tmp3_;
#line 64 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 64 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (sessions != NULL);
#line 65 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (katze_array_is_empty (sessions)) {
#line 712 "tabby.c"
		TabbyBaseSession* _tmp0_;
		TabbyBaseSession* _tmp1_;
#line 66 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = tabby_base_storage_get_new_session (self);
#line 66 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = _tmp0_;
#line 66 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_emit_by_name (sessions, "add-item", (GObject*) _tmp1_);
#line 66 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp1_);
#line 723 "tabby.c"
	}
#line 69 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = katze_array_get_items (sessions);
#line 69 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	items = _tmp2_;
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = items;
#line 731 "tabby.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		item_collection = _tmp3_;
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 739 "tabby.c"
			KatzeItem* _tmp4_;
			KatzeItem* item = NULL;
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp4_ = _g_object_ref0 ((KatzeItem*) item_it->data);
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			item = _tmp4_;
#line 746 "tabby.c"
			{
				TabbyBaseSession* session = NULL;
				KatzeItem* _tmp5_;
				TabbyBaseSession* _tmp6_;
				MidoriBrowser* browser = NULL;
				MidoriApp* _tmp7_;
				MidoriBrowser* _tmp8_;
				MidoriBrowser* _tmp9_;
				TabbyBaseSession* _tmp10_;
				TabbyBaseSession* _tmp11_;
				MidoriApp* _tmp12_;
				MidoriBrowser* _tmp13_;
				MidoriBrowser* _tmp14_;
				TabbyBaseSession* _tmp15_;
				MidoriBrowser* _tmp16_;
#line 71 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp5_ = item;
#line 71 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, TABBY_BASE_TYPE_SESSION) ? ((TabbyBaseSession*) _tmp5_) : NULL);
#line 71 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				session = _tmp6_;
#line 72 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp7_ = self->priv->_app;
#line 72 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp8_ = midori_app_create_browser (_tmp7_);
#line 72 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				browser = _tmp8_;
#line 75 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp9_ = browser;
#line 75 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp10_ = session;
#line 75 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp11_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, TABBY_BASE_TYPE_SESSION) ? ((TabbyBaseSession*) _tmp10_) : NULL);
#line 75 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				g_object_set_data_full ((GObject*) _tmp9_, "tabby-session", _tmp11_, g_object_unref);
#line 77 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp12_ = self->priv->_app;
#line 77 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp13_ = browser;
#line 77 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				midori_app_add_browser (_tmp12_, _tmp13_);
#line 78 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp14_ = browser;
#line 78 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				gtk_widget_show ((GtkWidget*) _tmp14_);
#line 80 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp15_ = session;
#line 80 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp16_ = browser;
#line 80 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				tabby_isession_restore ((TabbyISession*) _tmp15_, _tmp16_);
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (browser);
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (session);
#line 70 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 804 "tabby.c"
			}
		}
	}
#line 64 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_list_free0 (items);
#line 810 "tabby.c"
}


static gchar*
double_to_string (gdouble self)
{
	gchar* result = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gint _tmp1__length1;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = g_new0 (gchar, G_ASCII_DTOSTR_BUF_SIZE);
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1__length1 = G_ASCII_DTOSTR_BUF_SIZE;
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp2_ = g_ascii_dtostr (_tmp1_, G_ASCII_DTOSTR_BUF_SIZE, self);
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp3_ = g_strdup (_tmp2_);
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = (g_free (_tmp1_), NULL);
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 883 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 842 "tabby.c"
}


static void
tabby_base_storage_real_import_session (TabbyBaseStorage* self,
                                        KatzeArray* tabs)
{
	TabbyBaseSession* session = NULL;
	TabbyBaseSession* _tmp0_;
	GList* items = NULL;
	GList* _tmp1_;
	gdouble i = 0.0;
	GList* _tmp2_;
#line 84 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (tabs != NULL);
#line 85 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_base_storage_get_new_session (self);
#line 85 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	session = _tmp0_;
#line 86 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = katze_array_get_items (tabs);
#line 86 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	items = _tmp1_;
#line 87 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	i = (gdouble) 0;
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = items;
#line 870 "tabby.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		item_collection = _tmp2_;
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 878 "tabby.c"
			KatzeItem* _tmp3_;
			KatzeItem* item = NULL;
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp3_ = _g_object_ref0 ((KatzeItem*) item_it->data);
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			item = _tmp3_;
#line 885 "tabby.c"
			{
				KatzeItem* _tmp4_;
				gdouble _tmp5_;
				gchar* _tmp6_;
				gchar* _tmp7_;
				KatzeItem* _tmp8_;
				gdouble _tmp9_;
				TabbyBaseSession* _tmp10_;
				KatzeItem* _tmp11_;
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp4_ = item;
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp5_ = i;
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp6_ = double_to_string (_tmp5_);
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp7_ = _tmp6_;
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				katze_item_set_meta_string (_tmp4_, "sorting", _tmp7_);
#line 89 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_free0 (_tmp7_);
#line 91 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp8_ = item;
#line 91 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				katze_item_set_meta_string (_tmp8_, "history-step", "ignore");
#line 92 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp9_ = i;
#line 92 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				i = _tmp9_ + 1024;
#line 93 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp10_ = session;
#line 93 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp11_ = item;
#line 93 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				tabby_base_session_add_item (_tmp10_, _tmp11_);
#line 88 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 923 "tabby.c"
			}
		}
	}
#line 84 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_list_free0 (items);
#line 84 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (session);
#line 931 "tabby.c"
}


void
tabby_base_storage_import_session (TabbyBaseStorage* self,
                                   KatzeArray* tabs)
{
#line 84 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 84 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_STORAGE_GET_CLASS (self)->import_session (self, tabs);
#line 943 "tabby.c"
}


TabbyBaseStorage*
tabby_base_storage_construct (GType object_type)
{
	TabbyBaseStorage * self = NULL;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyBaseStorage*) g_object_new (object_type, NULL);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 955 "tabby.c"
}


MidoriApp*
tabby_base_storage_get_app (TabbyBaseStorage* self)
{
	MidoriApp* result;
	MidoriApp* _tmp0_;
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_app;
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp0_;
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 972 "tabby.c"
}


static void
tabby_base_storage_set_app (TabbyBaseStorage* self,
                            MidoriApp* value)
{
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (tabby_base_storage_get_app (self) != value) {
#line 984 "tabby.c"
		MidoriApp* _tmp0_;
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self->priv->_app);
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self->priv->_app = _tmp0_;
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_notify_by_pspec ((GObject *) self, tabby_base_storage_properties[TABBY_BASE_STORAGE_APP_PROPERTY]);
#line 994 "tabby.c"
	}
}


static void
tabby_base_storage_class_init (TabbyBaseStorageClass * klass)
{
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_storage_parent_class = g_type_class_peek_parent (klass);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_type_class_add_private (klass, sizeof (TabbyBaseStoragePrivate));
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->get_saved_sessions = (KatzeArray* (*) (TabbyBaseStorage *)) tabby_base_storage_real_get_saved_sessions;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->get_new_session = (TabbyBaseSession* (*) (TabbyBaseStorage *)) tabby_base_storage_real_get_new_session;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->import_session = (void (*) (TabbyBaseStorage *, KatzeArray*)) tabby_base_storage_real_import_session;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_tabby_base_storage_get_property;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_tabby_base_storage_set_property;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->finalize = tabby_base_storage_finalize;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TABBY_BASE_STORAGE_APP_PROPERTY, tabby_base_storage_properties[TABBY_BASE_STORAGE_APP_PROPERTY] = g_param_spec_object ("app", "app", "app", MIDORI_TYPE_APP, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 1020 "tabby.c"
}


static void
tabby_base_storage_tabby_istorage_interface_init (TabbyIStorageIface * iface)
{
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_storage_tabby_istorage_parent_iface = g_type_interface_peek_parent (iface);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->get_saved_sessions = (KatzeArray* (*) (TabbyIStorage *)) tabby_base_storage_get_saved_sessions;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->get_new_session = (TabbyBaseSession* (*) (TabbyIStorage *)) tabby_base_storage_get_new_session;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->restore_last_sessions = (void (*) (TabbyIStorage *)) tabby_base_storage_real_restore_last_sessions;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->import_session = (void (*) (TabbyIStorage *, KatzeArray*)) tabby_base_storage_import_session;
#line 1037 "tabby.c"
}


static void
tabby_base_storage_instance_init (TabbyBaseStorage * self)
{
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv = TABBY_BASE_STORAGE_GET_PRIVATE (self);
#line 1046 "tabby.c"
}


static void
tabby_base_storage_finalize (GObject * obj)
{
	TabbyBaseStorage * self;
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_BASE_TYPE_STORAGE, TabbyBaseStorage);
#line 49 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->_app);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (tabby_base_storage_parent_class)->finalize (obj);
#line 1060 "tabby.c"
}


GType
tabby_base_storage_get_type (void)
{
	static volatile gsize tabby_base_storage_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_base_storage_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyBaseStorageClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tabby_base_storage_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TabbyBaseStorage), 0, (GInstanceInitFunc) tabby_base_storage_instance_init, NULL };
		static const GInterfaceInfo tabby_istorage_info = { (GInterfaceInitFunc) tabby_base_storage_tabby_istorage_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType tabby_base_storage_type_id;
		tabby_base_storage_type_id = g_type_register_static (G_TYPE_OBJECT, "TabbyBaseStorage", &g_define_type_info, G_TYPE_FLAG_ABSTRACT);
		g_type_add_interface_static (tabby_base_storage_type_id, TABBY_TYPE_ISTORAGE, &tabby_istorage_info);
		g_once_init_leave (&tabby_base_storage_type_id__volatile, tabby_base_storage_type_id);
	}
	return tabby_base_storage_type_id__volatile;
}


static void
_vala_tabby_base_storage_get_property (GObject * object,
                                       guint property_id,
                                       GValue * value,
                                       GParamSpec * pspec)
{
	TabbyBaseStorage * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_BASE_TYPE_STORAGE, TabbyBaseStorage);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_STORAGE_APP_PROPERTY:
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_value_set_object (value, tabby_base_storage_get_app (self));
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 1096 "tabby.c"
		default:
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 1102 "tabby.c"
	}
}


static void
_vala_tabby_base_storage_set_property (GObject * object,
                                       guint property_id,
                                       const GValue * value,
                                       GParamSpec * pspec)
{
	TabbyBaseStorage * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_BASE_TYPE_STORAGE, TabbyBaseStorage);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_STORAGE_APP_PROPERTY:
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_storage_set_app (self, g_value_get_object (value));
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 1123 "tabby.c"
		default:
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 48 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 1129 "tabby.c"
	}
}


static void
_g_free0_ (gpointer var)
{
#line 99 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	(var == NULL) ? NULL : (var = (g_free (var), NULL));
#line 1139 "tabby.c"
}


static inline void
_g_slist_free__g_free0_ (GSList* self)
{
#line 99 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_slist_free_full (self, (GDestroyNotify) _g_free0_);
#line 1148 "tabby.c"
}


static void
tabby_base_session_real_add_item (TabbyBaseSession* self,
                                  KatzeItem* item)
{
#line 104 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_add_item'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 104 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1160 "tabby.c"
}


void
tabby_base_session_add_item (TabbyBaseSession* self,
                             KatzeItem* item)
{
#line 104 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 104 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->add_item (self, item);
#line 1172 "tabby.c"
}


static void
tabby_base_session_real_uri_changed (TabbyBaseSession* self,
                                     MidoriView* view,
                                     const gchar* uri)
{
#line 105 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_uri_changed'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 105 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1185 "tabby.c"
}


void
tabby_base_session_uri_changed (TabbyBaseSession* self,
                                MidoriView* view,
                                const gchar* uri)
{
#line 105 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 105 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->uri_changed (self, view, uri);
#line 1198 "tabby.c"
}


static void
tabby_base_session_real_data_changed (TabbyBaseSession* self,
                                      MidoriView* view)
{
#line 106 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_data_changed'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 106 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1210 "tabby.c"
}


void
tabby_base_session_data_changed (TabbyBaseSession* self,
                                 MidoriView* view)
{
#line 106 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 106 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->data_changed (self, view);
#line 1222 "tabby.c"
}


static void
tabby_base_session_real_tab_added (TabbyBaseSession* self,
                                   MidoriBrowser* browser,
                                   MidoriView* view)
{
#line 107 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_tab_added'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 107 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1235 "tabby.c"
}


void
tabby_base_session_tab_added (TabbyBaseSession* self,
                              MidoriBrowser* browser,
                              MidoriView* view)
{
#line 107 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 107 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->tab_added (self, browser, view);
#line 1248 "tabby.c"
}


static void
tabby_base_session_real_tab_removed (TabbyBaseSession* self,
                                     MidoriBrowser* browser,
                                     MidoriView* view)
{
#line 108 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_tab_removed'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 108 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1261 "tabby.c"
}


void
tabby_base_session_tab_removed (TabbyBaseSession* self,
                                MidoriBrowser* browser,
                                MidoriView* view)
{
#line 108 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 108 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->tab_removed (self, browser, view);
#line 1274 "tabby.c"
}


static void
tabby_base_session_real_tab_switched (TabbyBaseSession* self,
                                      MidoriView* old_view,
                                      MidoriView* new_view)
{
#line 109 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_tab_switched'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 109 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1287 "tabby.c"
}


void
tabby_base_session_tab_switched (TabbyBaseSession* self,
                                 MidoriView* old_view,
                                 MidoriView* new_view)
{
#line 109 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 109 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->tab_switched (self, old_view, new_view);
#line 1300 "tabby.c"
}


static void
tabby_base_session_real_tab_reordered (TabbyBaseSession* self,
                                       GtkWidget* tab,
                                       guint pos)
{
#line 110 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_tab_reordered'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 110 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1313 "tabby.c"
}


void
tabby_base_session_tab_reordered (TabbyBaseSession* self,
                                  GtkWidget* tab,
                                  guint pos)
{
#line 110 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 110 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->tab_reordered (self, tab, pos);
#line 1326 "tabby.c"
}


static void
tabby_base_session_real_remove (TabbyBaseSession* self)
{
#line 112 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_remove'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 112 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return;
#line 1337 "tabby.c"
}


void
tabby_base_session_remove (TabbyBaseSession* self)
{
#line 112 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 112 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->remove (self);
#line 1348 "tabby.c"
}


static KatzeArray*
tabby_base_session_real_get_tabs (TabbyBaseSession* self)
{
#line 114 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_get_tabs'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 114 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return NULL;
#line 1359 "tabby.c"
}


KatzeArray*
tabby_base_session_get_tabs (TabbyBaseSession* self)
{
#line 114 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 114 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_BASE_SESSION_GET_CLASS (self)->get_tabs (self);
#line 1370 "tabby.c"
}


static gdouble
tabby_base_session_real_get_max_sorting (TabbyBaseSession* self)
{
	gdouble _tmp0_ = 0.0;
#line 115 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_critical ("Type `%s' does not implement abstract method `tabby_base_session_get_max_sorting'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 115 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return _tmp0_;
#line 1382 "tabby.c"
}


gdouble
tabby_base_session_get_max_sorting (TabbyBaseSession* self)
{
#line 115 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, 0.0);
#line 115 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return TABBY_BASE_SESSION_GET_CLASS (self)->get_max_sorting (self);
#line 1393 "tabby.c"
}


static void
_tabby_base_session_tab_added_midori_browser_add_tab (MidoriBrowser* _sender,
                                                      MidoriView* tab,
                                                      gpointer self)
{
#line 120 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_tab_added ((TabbyBaseSession*) self, _sender, tab);
#line 1404 "tabby.c"
}


static void
_tabby_base_session_helper_data_changed_midori_browser_add_tab (MidoriBrowser* _sender,
                                                                MidoriView* tab,
                                                                gpointer self)
{
#line 121 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_helper_data_changed ((TabbyBaseSession*) self, _sender, tab);
#line 1415 "tabby.c"
}


static void
_tabby_base_session_tab_removed_midori_browser_remove_tab (MidoriBrowser* _sender,
                                                           MidoriView* tab,
                                                           gpointer self)
{
#line 123 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_tab_removed ((TabbyBaseSession*) self, _sender, tab);
#line 1426 "tabby.c"
}


static void
_tabby_base_session_tab_switched_midori_browser_switch_tab (MidoriBrowser* _sender,
                                                            MidoriView* old_view,
                                                            MidoriView* new_view,
                                                            gpointer self)
{
#line 124 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_tab_switched ((TabbyBaseSession*) self, old_view, new_view);
#line 1438 "tabby.c"
}


static gboolean
_tabby_base_session_delete_event_gtk_widget_delete_event (GtkWidget* _sender,
                                                          GdkEvent* event,
                                                          gpointer self)
{
	gboolean result;
	result = tabby_base_session_delete_event ((TabbyBaseSession*) self, _sender, event);
#line 125 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 1451 "tabby.c"
}


static void
_tabby_base_session_tab_reordered_gtk_notebook_page_reordered (GtkNotebook* _sender,
                                                               GtkWidget* p0,
                                                               guint p1,
                                                               gpointer self)
{
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_tab_reordered ((TabbyBaseSession*) self, p0, p1);
#line 1463 "tabby.c"
}


static void
tabby_base_session_real_attach (TabbyISession* base,
                                MidoriBrowser* browser)
{
	TabbyBaseSession * self;
	GtkNotebook* _tmp0_;
	GtkNotebook* _tmp1_;
	GtkNotebook* _tmp2_;
	GList* _tmp3_;
#line 117 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyBaseSession*) base;
#line 117 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 118 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_set_browser (self, browser);
#line 120 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (browser, "add-tab", (GCallback) _tabby_base_session_tab_added_midori_browser_add_tab, self, G_CONNECT_AFTER);
#line 121 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (browser, "add-tab", (GCallback) _tabby_base_session_helper_data_changed_midori_browser_add_tab, self, 0);
#line 123 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (browser, "remove-tab", (GCallback) _tabby_base_session_tab_removed_midori_browser_remove_tab, self, 0);
#line 124 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (browser, "switch-tab", (GCallback) _tabby_base_session_tab_switched_midori_browser_switch_tab, self, 0);
#line 125 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object ((GtkWidget*) browser, "delete-event", (GCallback) _tabby_base_session_delete_event_gtk_widget_delete_event, self, G_CONNECT_AFTER);
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (browser, "notebook", &_tmp0_, NULL);
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _tmp0_;
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = _tmp1_;
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_tmp2_, "page-reordered", (GCallback) _tabby_base_session_tab_reordered_gtk_notebook_page_reordered, self, G_CONNECT_AFTER);
#line 126 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp2_);
#line 128 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_set_state (self, TABBY_SESSION_STATE_OPEN);
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = midori_browser_get_tabs (browser);
#line 1506 "tabby.c"
	{
		GList* view_collection = NULL;
		GList* view_it = NULL;
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		view_collection = _tmp3_;
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		for (view_it = view_collection; view_it != NULL; view_it = view_it->next) {
#line 1514 "tabby.c"
			MidoriView* _tmp4_;
			MidoriView* view = NULL;
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp4_ = _g_object_ref0 ((MidoriView*) view_it->data);
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			view = _tmp4_;
#line 1521 "tabby.c"
			{
				MidoriView* _tmp5_;
				MidoriView* _tmp6_;
#line 131 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp5_ = view;
#line 131 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				tabby_base_session_tab_added (self, browser, _tmp5_);
#line 132 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp6_ = view;
#line 132 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				tabby_base_session_helper_data_changed (self, browser, _tmp6_);
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (view);
#line 1535 "tabby.c"
			}
		}
#line 130 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_list_free0 (view_collection);
#line 1540 "tabby.c"
	}
}


static Block1Data*
block1_data_ref (Block1Data* _data1_)
{
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return _data1_;
#line 1552 "tabby.c"
}


static void
block1_data_unref (void * _userdata_)
{
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 1563 "tabby.c"
		TabbyBaseSession* self;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self = _data1_->self;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_list_free0 (_data1_->items);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_data1_->browser);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_slice_free (Block1Data, _data1_);
#line 1575 "tabby.c"
	}
}


static gboolean
__lambda6_ (Block1Data* _data1_)
{
	TabbyBaseSession* self;
	gboolean result = FALSE;
	GPtrArray* new_tabs = NULL;
	GPtrArray* _tmp0_;
	GList* _tmp1_;
	GList* _tmp23_;
#line 187 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = _data1_->self;
#line 189 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_ptr_array_new ();
#line 189 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	new_tabs = _tmp0_;
#line 190 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _data1_->items;
#line 190 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (g_list_length (_tmp1_) > ((guint) 0)) {
#line 1599 "tabby.c"
		GPtrArray* _tmp22_;
		{
			gint i = 0;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			i = 0;
#line 1605 "tabby.c"
			{
				gboolean _tmp2_ = FALSE;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp2_ = TRUE;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				while (TRUE) {
#line 1612 "tabby.c"
					gint _tmp4_;
					gint _tmp5_;
					GList* _tmp6_;
					KatzeItem* t_item = NULL;
					GList* _tmp8_;
					gconstpointer _tmp9_;
					KatzeItem* _tmp10_;
					KatzeItem* _tmp11_;
					gboolean _tmp12_ = FALSE;
					gboolean _tmp13_;
					GtkWidget* tab = NULL;
					KatzeItem* _tmp16_;
					GtkWidget* _tmp17_;
					GPtrArray* _tmp18_;
					GtkWidget* _tmp19_;
					GList* _tmp20_;
					GList* _tmp21_;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (!_tmp2_) {
#line 1632 "tabby.c"
						gint _tmp3_;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp3_ = i;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						i = _tmp3_ + 1;
#line 1638 "tabby.c"
					}
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp2_ = FALSE;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp4_ = i;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp5_ = tabby_IDLE_RESTORE_COUNT;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (!(_tmp4_ < _tmp5_)) {
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						break;
#line 1650 "tabby.c"
					}
#line 192 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp6_ = _data1_->u_items;
#line 192 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp6_ == NULL) {
#line 1656 "tabby.c"
						GPtrArray* _tmp7_;
#line 193 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp7_ = new_tabs;
#line 193 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						tabby_base_session_helper_reorder_tabs (self, _tmp7_);
#line 194 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						tabby_base_session_set_state (self, TABBY_SESSION_STATE_OPEN);
#line 195 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						result = FALSE;
#line 195 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_g_ptr_array_unref0 (new_tabs);
#line 195 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						return result;
#line 1670 "tabby.c"
					}
#line 198 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp8_ = _data1_->u_items;
#line 198 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp9_ = _tmp8_->data;
#line 198 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp10_ = _g_object_ref0 ((KatzeItem*) _tmp9_);
#line 198 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					t_item = _tmp10_;
#line 200 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp11_ = t_item;
#line 200 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					katze_item_set_meta_integer (_tmp11_, "append", (gint64) 1);
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp13_ = _data1_->delay;
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp13_) {
#line 1688 "tabby.c"
						gboolean _tmp14_;
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp14_ = _data1_->should_delay;
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp12_ = _tmp14_;
#line 1694 "tabby.c"
					} else {
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp12_ = FALSE;
#line 1698 "tabby.c"
					}
#line 202 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp12_) {
#line 1702 "tabby.c"
						KatzeItem* _tmp15_;
#line 203 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp15_ = t_item;
#line 203 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						katze_item_set_meta_integer (_tmp15_, "delay", (gint64) MIDORI_DELAY_DELAYED);
#line 1708 "tabby.c"
					} else {
#line 205 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_data1_->delay = TRUE;
#line 1712 "tabby.c"
					}
#line 207 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp16_ = t_item;
#line 207 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp17_ = midori_browser_add_item (_data1_->browser, _tmp16_);
#line 207 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					tab = _tmp17_;
#line 208 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp18_ = new_tabs;
#line 208 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp19_ = tab;
#line 208 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					g_ptr_array_add (_tmp18_, _tmp19_);
#line 210 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp20_ = _data1_->u_items;
#line 210 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp21_ = _tmp20_->next;
#line 210 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_data1_->u_items = _tmp21_;
#line 191 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_g_object_unref0 (t_item);
#line 1734 "tabby.c"
				}
			}
		}
#line 212 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp22_ = new_tabs;
#line 212 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_helper_reorder_tabs (self, _tmp22_);
#line 1742 "tabby.c"
	}
#line 214 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp23_ = _data1_->u_items;
#line 214 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp23_ == NULL) {
#line 215 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_set_state (self, TABBY_SESSION_STATE_OPEN);
#line 216 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		result = FALSE;
#line 216 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_ptr_array_unref0 (new_tabs);
#line 216 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return result;
#line 1756 "tabby.c"
	}
#line 218 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = TRUE;
#line 218 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_ptr_array_unref0 (new_tabs);
#line 218 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 1764 "tabby.c"
}


static gboolean
___lambda6__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda6_ (self);
#line 187 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 1775 "tabby.c"
}


static void
tabby_base_session_real_restore (TabbyISession* base,
                                 MidoriBrowser* browser)
{
	TabbyBaseSession * self;
	Block1Data* _data1_;
	MidoriBrowser* _tmp0_;
	KatzeArray* tabs = NULL;
	KatzeArray* _tmp1_;
	KatzeArray* open_uris = NULL;
	gconstpointer _tmp2_;
	gboolean _tmp3_ = FALSE;
	KatzeArray* _tmp4_;
	GtkNotebook* _tmp16_;
	GtkNotebook* _tmp17_;
	GtkNotebook* _tmp18_;
	KatzeArray* _tmp19_;
	KatzeArray* _tmp22_;
	GList* _tmp23_;
	GList* _tmp24_;
	gint load_on_startup = 0;
	MidoriApp* _tmp25_;
	MidoriWebSettings* _tmp26_;
	MidoriWebSettings* _tmp27_;
	MidoriWebSettings* _tmp28_;
	gint _tmp29_;
	MidoriApp* _tmp30_;
	gboolean _tmp31_;
	gboolean _tmp32_;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyBaseSession*) base;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_ = g_slice_new0 (Block1Data);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->_ref_count_ = 1;
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->self = g_object_ref (self);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (browser);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_data1_->browser);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->browser = _tmp0_;
#line 137 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_set_browser (self, _data1_->browser);
#line 139 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = tabby_base_session_get_tabs (self);
#line 139 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabs = _tmp1_;
#line 140 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_object_get_data ((GObject*) _data1_->browser, "tabby-open-uris");
#line 140 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	open_uris = (KatzeArray*) _tmp2_;
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = tabs;
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (katze_array_is_empty (_tmp4_)) {
#line 1838 "tabby.c"
		KatzeArray* _tmp5_;
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = open_uris;
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp5_ == NULL;
#line 1844 "tabby.c"
	} else {
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = FALSE;
#line 1848 "tabby.c"
	}
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp3_) {
#line 1852 "tabby.c"
		gint load_on_startup = 0;
		MidoriApp* _tmp6_;
		MidoriWebSettings* _tmp7_;
		MidoriWebSettings* _tmp8_;
		MidoriWebSettings* _tmp9_;
		KatzeItem* item = NULL;
		KatzeItem* _tmp10_;
		gint _tmp11_;
		KatzeArray* _tmp14_;
		KatzeItem* _tmp15_;
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = tabby_APP;
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_get (_tmp6_, "settings", &_tmp7_, NULL);
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = _tmp7_;
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _tmp8_;
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_get ((GObject*) _tmp9_, "load-on-startup", &load_on_startup, NULL);
#line 145 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp9_);
#line 147 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = katze_item_new ();
#line 147 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		item = _tmp10_;
#line 149 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp11_ = load_on_startup;
#line 149 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp11_ == ((gint) MIDORI_STARTUP_BLANK_PAGE)) {
#line 1883 "tabby.c"
			KatzeItem* _tmp12_;
#line 150 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp12_ = item;
#line 150 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_uri (_tmp12_, "about:dial");
#line 1889 "tabby.c"
		} else {
			KatzeItem* _tmp13_;
#line 152 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp13_ = item;
#line 152 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_uri (_tmp13_, "about:home");
#line 1896 "tabby.c"
		}
#line 155 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = tabs;
#line 155 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp15_ = item;
#line 155 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_emit_by_name (_tmp14_, "add-item", (GObject*) _tmp15_);
#line 142 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (item);
#line 1906 "tabby.c"
	}
#line 158 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_data1_->browser, "add-tab", (GCallback) _tabby_base_session_tab_added_midori_browser_add_tab, self, G_CONNECT_AFTER);
#line 159 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_data1_->browser, "add-tab", (GCallback) _tabby_base_session_helper_data_changed_midori_browser_add_tab, self, 0);
#line 161 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_data1_->browser, "remove-tab", (GCallback) _tabby_base_session_tab_removed_midori_browser_remove_tab, self, 0);
#line 162 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_data1_->browser, "switch-tab", (GCallback) _tabby_base_session_tab_switched_midori_browser_switch_tab, self, 0);
#line 163 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object ((GtkWidget*) _data1_->browser, "delete-event", (GCallback) _tabby_base_session_delete_event_gtk_widget_delete_event, self, G_CONNECT_AFTER);
#line 164 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_data1_->browser, "notebook", &_tmp16_, NULL);
#line 164 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp17_ = _tmp16_;
#line 164 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp18_ = _tmp17_;
#line 164 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_tmp18_, "page-reordered", (GCallback) _tabby_base_session_tab_reordered_gtk_notebook_page_reordered, self, G_CONNECT_AFTER);
#line 164 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp18_);
#line 166 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->items = NULL;
#line 167 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp19_ = open_uris;
#line 167 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp19_ != NULL) {
#line 1934 "tabby.c"
		KatzeArray* _tmp20_;
		GList* _tmp21_;
#line 168 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp20_ = open_uris;
#line 168 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp21_ = katze_array_get_items (_tmp20_);
#line 168 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_data1_->items = g_list_concat (_data1_->items, _tmp21_);
#line 1943 "tabby.c"
	}
#line 170 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp22_ = tabs;
#line 170 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp23_ = katze_array_get_items (_tmp22_);
#line 170 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->items = g_list_concat (_data1_->items, _tmp23_);
#line 171 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp24_ = _data1_->items;
#line 171 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->u_items = _tmp24_;
#line 173 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->delay = FALSE;
#line 174 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->should_delay = FALSE;
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp25_ = tabby_APP;
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp25_, "settings", &_tmp26_, NULL);
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp27_ = _tmp26_;
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp28_ = _tmp27_;
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get ((GObject*) _tmp28_, "load-on-startup", &load_on_startup, NULL);
#line 177 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp28_);
#line 178 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp29_ = load_on_startup;
#line 178 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_->should_delay = _tmp29_ == ((gint) MIDORI_STARTUP_DELAYED_PAGES);
#line 180 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp30_ = tabby_APP;
#line 180 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp31_ = midori_app_get_crashed (_tmp30_);
#line 180 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp32_ = _tmp31_;
#line 180 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp32_ == TRUE) {
#line 181 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_data1_->delay = TRUE;
#line 182 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_data1_->should_delay = TRUE;
#line 1987 "tabby.c"
	}
#line 185 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_set_state (self, TABBY_SESSION_STATE_RESTORING);
#line 187 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda6__gsource_func, block1_data_ref (_data1_), block1_data_unref);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (tabs);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	block1_data_unref (_data1_);
#line 136 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data1_ = NULL;
#line 1999 "tabby.c"
}


static void
tabby_base_session_real_close (TabbyBaseSession* self)
{
	TabbySessionState _tmp0_;
#line 223 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_state;
#line 223 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp0_ == TABBY_SESSION_STATE_CLOSED) {
#line 2011 "tabby.c"
		MidoriBrowser* _tmp1_;
#line 224 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = self->priv->_browser;
#line 224 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_vala_assert (_tmp1_ == NULL, "this.browser == null");
#line 2017 "tabby.c"
	} else {
		MidoriBrowser* _tmp2_;
		guint _tmp3_;
		MidoriBrowser* _tmp4_;
		guint _tmp5_;
		MidoriBrowser* _tmp6_;
		guint _tmp7_;
		MidoriBrowser* _tmp8_;
		guint _tmp9_;
		MidoriBrowser* _tmp10_;
		guint _tmp11_;
		MidoriBrowser* _tmp12_;
		GtkNotebook* _tmp13_;
		GtkNotebook* _tmp14_;
		GtkNotebook* _tmp15_;
		guint _tmp16_;
#line 226 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_set_state (self, TABBY_SESSION_STATE_CLOSED);
#line 228 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = self->priv->_browser;
#line 228 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("add-tab", MIDORI_TYPE_BROWSER, &_tmp3_, NULL, FALSE);
#line 228 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _tabby_base_session_tab_added_midori_browser_add_tab, self);
#line 229 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->_browser;
#line 229 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("add-tab", MIDORI_TYPE_BROWSER, &_tmp5_, NULL, FALSE);
#line 229 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _tabby_base_session_helper_data_changed_midori_browser_add_tab, self);
#line 230 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = self->priv->_browser;
#line 230 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("remove-tab", MIDORI_TYPE_BROWSER, &_tmp7_, NULL, FALSE);
#line 230 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _tabby_base_session_tab_removed_midori_browser_remove_tab, self);
#line 231 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = self->priv->_browser;
#line 231 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("switch-tab", MIDORI_TYPE_BROWSER, &_tmp9_, NULL, FALSE);
#line 231 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched (_tmp8_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp9_, 0, NULL, (GCallback) _tabby_base_session_tab_switched_midori_browser_switch_tab, self);
#line 232 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = self->priv->_browser;
#line 232 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("delete-event", GTK_TYPE_WIDGET, &_tmp11_, NULL, FALSE);
#line 232 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched ((GtkWidget*) _tmp10_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp11_, 0, NULL, (GCallback) _tabby_base_session_delete_event_gtk_widget_delete_event, self);
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp12_ = self->priv->_browser;
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_get (_tmp12_, "notebook", &_tmp13_, NULL);
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = _tmp13_;
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp15_ = _tmp14_;
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("page-reordered", GTK_TYPE_NOTEBOOK, &_tmp16_, NULL, FALSE);
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched (_tmp15_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp16_, 0, NULL, (GCallback) _tabby_base_session_tab_reordered_gtk_notebook_page_reordered, self);
#line 233 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp15_);
#line 235 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_set_browser (self, NULL);
#line 2082 "tabby.c"
	}
}


void
tabby_base_session_close (TabbyBaseSession* self)
{
#line 222 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 222 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_GET_CLASS (self)->close (self);
#line 2094 "tabby.c"
}


gboolean
tabby_base_session_delete_event (TabbyBaseSession* self,
                                 GtkWidget* widget,
                                 GdkEvent* event)
{
	gboolean result = FALSE;
#line 242 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 242 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (widget != NULL, FALSE);
#line 242 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 245 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_close (self);
#line 246 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = FALSE;
#line 246 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2116 "tabby.c"
}


static gdouble
double_parse (const gchar* str)
{
	gdouble result = 0.0;
	gdouble _tmp0_;
#line 889 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (str != NULL, 0.0);
#line 890 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp0_ = g_ascii_strtod (str, NULL);
#line 890 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	result = _tmp0_;
#line 890 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	return result;
#line 2133 "tabby.c"
}


gdouble
tabby_base_session_get_tab_sorting (TabbyBaseSession* self,
                                    MidoriView* view)
{
	gdouble result = 0.0;
	gint this_pos = 0;
	MidoriBrowser* _tmp0_;
	GtkNotebook* _tmp1_;
	GtkNotebook* _tmp2_;
	GtkNotebook* _tmp3_;
	gint _tmp4_;
	MidoriView* prev_view = NULL;
	MidoriBrowser* _tmp5_;
	GtkNotebook* _tmp6_;
	GtkNotebook* _tmp7_;
	GtkNotebook* _tmp8_;
	gint _tmp9_;
	GtkWidget* _tmp10_;
	MidoriView* _tmp11_;
	MidoriView* _tmp12_;
	MidoriView* next_view = NULL;
	MidoriBrowser* _tmp13_;
	GtkNotebook* _tmp14_;
	GtkNotebook* _tmp15_;
	GtkNotebook* _tmp16_;
	gint _tmp17_;
	GtkWidget* _tmp18_;
	MidoriView* _tmp19_;
	MidoriView* _tmp20_;
	gchar* prev_meta_sorting = NULL;
	gchar* next_meta_sorting = NULL;
	gdouble prev_sorting = 0.0;
	gdouble next_sorting = 0.0;
	gdouble this_sorting = 0.0;
	MidoriView* _tmp21_;
	const gchar* _tmp27_;
	MidoriView* _tmp30_;
	const gchar* _tmp36_;
	gdouble _tmp39_;
	gdouble _tmp40_;
	gdouble _tmp41_;
#line 250 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, 0.0);
#line 250 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (view != NULL, 0.0);
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_browser;
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp0_, "notebook", &_tmp1_, NULL);
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = _tmp1_;
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = _tmp2_;
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = gtk_notebook_page_num (_tmp3_, (GtkWidget*) view);
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp3_);
#line 251 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	this_pos = _tmp4_;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = self->priv->_browser;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp5_, "notebook", &_tmp6_, NULL);
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp7_ = _tmp6_;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp8_ = _tmp7_;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp9_ = this_pos;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp10_ = gtk_notebook_get_nth_page (_tmp8_, _tmp9_ - 1);
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp11_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, MIDORI_TYPE_VIEW) ? ((MidoriView*) _tmp10_) : NULL);
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp12_ = _tmp11_;
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp8_);
#line 252 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	prev_view = _tmp12_;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp13_ = self->priv->_browser;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp13_, "notebook", &_tmp14_, NULL);
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp15_ = _tmp14_;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp16_ = _tmp15_;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp17_ = this_pos;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp18_ = gtk_notebook_get_nth_page (_tmp16_, _tmp17_ + 1);
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp19_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp18_, MIDORI_TYPE_VIEW) ? ((MidoriView*) _tmp18_) : NULL);
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp20_ = _tmp19_;
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp16_);
#line 253 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	next_view = _tmp20_;
#line 255 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	prev_meta_sorting = NULL;
#line 256 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	next_meta_sorting = NULL;
#line 259 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp21_ = prev_view;
#line 259 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp21_ != NULL) {
#line 2244 "tabby.c"
		KatzeItem* prev_item = NULL;
		MidoriView* _tmp22_;
		KatzeItem* _tmp23_;
		KatzeItem* _tmp24_;
		const gchar* _tmp25_;
		gchar* _tmp26_;
#line 260 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp22_ = prev_view;
#line 260 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp23_ = midori_view_get_proxy_item (_tmp22_);
#line 260 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		prev_item = _tmp23_;
#line 261 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp24_ = prev_item;
#line 261 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp25_ = katze_item_get_meta_string (_tmp24_, "sorting");
#line 261 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp26_ = g_strdup (_tmp25_);
#line 261 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (prev_meta_sorting);
#line 261 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		prev_meta_sorting = _tmp26_;
#line 2267 "tabby.c"
	}
#line 264 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp27_ = prev_meta_sorting;
#line 264 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp27_ == NULL) {
#line 2273 "tabby.c"
		TabbySessionState _tmp28_;
#line 265 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp28_ = self->priv->_state;
#line 265 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp28_ == TABBY_SESSION_STATE_RESTORING) {
#line 266 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			prev_sorting = tabby_base_session_get_max_sorting (self);
#line 2281 "tabby.c"
		} else {
#line 268 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			prev_sorting = double_parse ("0");
#line 2285 "tabby.c"
		}
	} else {
		const gchar* _tmp29_;
#line 270 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp29_ = prev_meta_sorting;
#line 270 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		prev_sorting = double_parse (_tmp29_);
#line 2293 "tabby.c"
	}
#line 272 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp30_ = next_view;
#line 272 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp30_ != NULL) {
#line 2299 "tabby.c"
		KatzeItem* next_item = NULL;
		MidoriView* _tmp31_;
		KatzeItem* _tmp32_;
		KatzeItem* _tmp33_;
		const gchar* _tmp34_;
		gchar* _tmp35_;
#line 273 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp31_ = next_view;
#line 273 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp32_ = midori_view_get_proxy_item (_tmp31_);
#line 273 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		next_item = _tmp32_;
#line 274 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp33_ = next_item;
#line 274 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp34_ = katze_item_get_meta_string (_tmp33_, "sorting");
#line 274 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp35_ = g_strdup (_tmp34_);
#line 274 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (next_meta_sorting);
#line 274 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		next_meta_sorting = _tmp35_;
#line 2322 "tabby.c"
	}
#line 277 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp36_ = next_meta_sorting;
#line 277 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp36_ == NULL) {
#line 2328 "tabby.c"
		gdouble _tmp37_;
#line 278 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp37_ = prev_sorting;
#line 278 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		next_sorting = _tmp37_ + 2048;
#line 2334 "tabby.c"
	} else {
		const gchar* _tmp38_;
#line 280 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp38_ = next_meta_sorting;
#line 280 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		next_sorting = double_parse (_tmp38_);
#line 2341 "tabby.c"
	}
#line 282 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp39_ = prev_sorting;
#line 282 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp40_ = next_sorting;
#line 282 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp41_ = prev_sorting;
#line 282 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	this_sorting = _tmp39_ + ((_tmp40_ - _tmp41_) / 2);
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = this_sorting;
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (next_meta_sorting);
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (prev_meta_sorting);
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (next_view);
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (prev_view);
#line 284 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2363 "tabby.c"
}


static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return _data2_;
#line 2374 "tabby.c"
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 2385 "tabby.c"
		TabbyBaseSession* self;
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self = _data2_->self;
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_data2_->view);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_slice_free (Block2Data, _data2_);
#line 2395 "tabby.c"
	}
}


static void
____lambda4_ (Block2Data* _data2_)
{
	TabbyBaseSession* self;
	MidoriView* _tmp0_;
	MidoriView* _tmp1_;
	WebKitWebView* _tmp2_;
	WebKitWebView* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = _data2_->self;
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _data2_->view;
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _data2_->view;
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = midori_tab_get_web_view ((MidoriTab*) _tmp1_);
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = _tmp2_;
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = webkit_web_view_get_uri (_tmp3_);
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = _tmp4_;
#line 296 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_uri_changed (self, _tmp0_, _tmp5_);
#line 2426 "tabby.c"
}


static void
_____lambda4__g_object_notify (GObject* _sender,
                               GParamSpec* pspec,
                               gpointer self)
{
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	____lambda4_ (self);
#line 2437 "tabby.c"
}


static void
____lambda5_ (Block2Data* _data2_)
{
	TabbyBaseSession* self;
	MidoriView* _tmp0_;
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = _data2_->self;
#line 299 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _data2_->view;
#line 299 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_data_changed (self, _tmp0_);
#line 2452 "tabby.c"
}


static void
_____lambda5__g_object_notify (GObject* _sender,
                               GParamSpec* pspec,
                               gpointer self)
{
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	____lambda5_ (self);
#line 2463 "tabby.c"
}


static void
_tabby_base_session_load_status_g_object_notify (GObject* _sender,
                                                 GParamSpec* pspec,
                                                 gpointer self)
{
#line 304 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_load_status ((TabbyBaseSession*) self, _sender, pspec);
#line 2474 "tabby.c"
}


static void
tabby_base_session_load_status (TabbyBaseSession* self,
                                GObject* _view,
                                GParamSpec* pspec)
{
	Block2Data* _data2_;
	MidoriView* _tmp0_;
	MidoriView* _tmp1_;
	MidoriLoadStatus _tmp2_;
	MidoriLoadStatus _tmp3_;
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (_view != NULL);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (pspec != NULL);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data2_->_ref_count_ = 1;
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data2_->self = g_object_ref (self);
#line 288 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_view, MIDORI_TYPE_VIEW, MidoriView));
#line 288 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data2_->view = _tmp0_;
#line 290 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _data2_->view;
#line 290 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = midori_tab_get_load_status ((MidoriTab*) _tmp1_);
#line 290 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = _tmp2_;
#line 290 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp3_ == MIDORI_LOAD_PROVISIONAL) {
#line 2512 "tabby.c"
		KatzeItem* item = NULL;
		MidoriView* _tmp4_;
		KatzeItem* _tmp5_;
		gint64 delay = 0LL;
		KatzeItem* _tmp6_;
		gint64 _tmp7_;
		MidoriView* _tmp14_;
		guint _tmp15_;
		GQuark _tmp16_;
#line 291 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = _data2_->view;
#line 291 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = midori_view_get_proxy_item (_tmp4_);
#line 291 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		item = _tmp5_;
#line 293 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = item;
#line 293 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		delay = katze_item_get_meta_integer (_tmp6_, "delay");
#line 294 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = delay;
#line 294 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp7_ == ((gint64) MIDORI_DELAY_UNDELAYED)) {
#line 2536 "tabby.c"
			MidoriView* _tmp8_;
			WebKitWebView* _tmp9_;
			WebKitWebView* _tmp10_;
			MidoriView* _tmp11_;
			WebKitWebView* _tmp12_;
			WebKitWebView* _tmp13_;
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = _data2_->view;
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp9_ = midori_tab_get_web_view ((MidoriTab*) _tmp8_);
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp10_ = _tmp9_;
#line 295 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_signal_connect_data ((GObject*) _tmp10_, "notify::uri", (GCallback) _____lambda4__g_object_notify, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp11_ = _data2_->view;
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp12_ = midori_tab_get_web_view ((MidoriTab*) _tmp11_);
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp13_ = _tmp12_;
#line 298 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_signal_connect_data ((GObject*) _tmp13_, "notify::title", (GCallback) _____lambda5__g_object_notify, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 2559 "tabby.c"
		}
#line 304 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = _data2_->view;
#line 304 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_parse_name ("notify::load-status", G_TYPE_OBJECT, &_tmp15_, &_tmp16_, TRUE);
#line 304 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_handlers_disconnect_matched ((GObject*) _tmp14_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp15_, _tmp16_, NULL, (GCallback) _tabby_base_session_load_status_g_object_notify, self);
#line 2567 "tabby.c"
	}
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	block2_data_unref (_data2_);
#line 287 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data2_ = NULL;
#line 2573 "tabby.c"
}


static void
_tabby_base_session_helper_duplicate_tab_midori_view_new_view (MidoriView* _sender,
                                                               MidoriView* new_view,
                                                               MidoriNewView where,
                                                               gboolean user_initiated,
                                                               gpointer self)
{
#line 311 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_helper_duplicate_tab ((TabbyBaseSession*) self, _sender, new_view, where, user_initiated);
#line 2586 "tabby.c"
}


static void
tabby_base_session_helper_data_changed (TabbyBaseSession* self,
                                        MidoriBrowser* browser,
                                        MidoriView* view)
{
#line 308 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 308 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 308 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 309 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object ((GObject*) view, "notify::load-status", (GCallback) _tabby_base_session_load_status_g_object_notify, self, 0);
#line 311 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (view, "new-view", (GCallback) _tabby_base_session_helper_duplicate_tab_midori_view_new_view, self, 0);
#line 2605 "tabby.c"
}


static gint
__lambda7_ (TabbyBaseSession* self,
            gdouble* a,
            gdouble* b)
{
	gint result = 0;
#line 316 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if ((*a) > (*b)) {
#line 317 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		result = 1;
#line 317 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return result;
#line 2621 "tabby.c"
	} else {
#line 318 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if ((*a) < (*b)) {
#line 319 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			result = -1;
#line 319 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			return result;
#line 2629 "tabby.c"
		}
	}
#line 320 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = 0;
#line 320 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2636 "tabby.c"
}


static gint
___lambda7__gcompare_data_func (gconstpointer a,
                                gconstpointer b,
                                gpointer self)
{
	gint result;
	result = __lambda7_ ((TabbyBaseSession*) self, (gdouble*) a, (gdouble*) b);
#line 315 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2649 "tabby.c"
}


static gboolean
_double_equal (const gdouble * s1,
               const gdouble * s2)
{
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (s1 == s2) {
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return TRUE;
#line 2661 "tabby.c"
	}
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (s1 == NULL) {
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return FALSE;
#line 2667 "tabby.c"
	}
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (s2 == NULL) {
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return FALSE;
#line 2673 "tabby.c"
	}
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return (*s1) == (*s2);
#line 2677 "tabby.c"
}


static gint
__lambda8_ (gdouble* a,
            gdouble* b)
{
	gint result = 0;
	gint _tmp0_ = 0;
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_double_equal (a, b) == TRUE) {
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = 0;
#line 2691 "tabby.c"
	} else {
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = -1;
#line 2695 "tabby.c"
	}
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp0_;
#line 324 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2701 "tabby.c"
}


static gint
___lambda8__gcompare_func (gconstpointer a,
                           gconstpointer b)
{
	gint result;
	result = __lambda8_ ((gdouble*) a, (gdouble*) b);
#line 323 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 2713 "tabby.c"
}


static gboolean
double_try_parse (const gchar* str,
                  gdouble* _result_,
                  const gchar* * unparsed)
{
	gdouble _vala_result = 0.0;
	const gchar* _vala_unparsed = NULL;
	gboolean result = FALSE;
	gchar* endptr = NULL;
	gchar* _tmp0_ = NULL;
	gdouble _tmp1_;
	gchar* _tmp2_;
	gint _tmp3_;
	gint _tmp4_;
#line 892 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (str != NULL, FALSE);
#line 894 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp1_ = g_ascii_strtod (str, &_tmp0_);
#line 894 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	endptr = _tmp0_;
#line 894 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_vala_result = _tmp1_;
#line 895 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp2_ = endptr;
#line 895 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp3_ = strlen (str);
#line 895 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 895 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp2_ == (((gchar*) str) + _tmp4_)) {
#line 896 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_vala_unparsed = "";
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = TRUE;
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (_result_) {
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			*_result_ = _vala_result;
#line 2755 "tabby.c"
		}
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (unparsed) {
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			*unparsed = _vala_unparsed;
#line 2761 "tabby.c"
		}
#line 897 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 2765 "tabby.c"
	} else {
		gchar* _tmp5_;
#line 899 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = endptr;
#line 899 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_vala_unparsed = (const gchar*) _tmp5_;
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = FALSE;
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (_result_) {
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			*_result_ = _vala_result;
#line 2778 "tabby.c"
		}
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (unparsed) {
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			*unparsed = _vala_unparsed;
#line 2784 "tabby.c"
		}
#line 900 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 2788 "tabby.c"
	}
#line 892 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_result_) {
#line 892 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		*_result_ = _vala_result;
#line 2794 "tabby.c"
	}
#line 892 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (unparsed) {
#line 892 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		*unparsed = _vala_unparsed;
#line 2800 "tabby.c"
	}
}


static gdouble*
_double_dup (gdouble* self)
{
	gdouble* dup;
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	dup = g_new0 (gdouble, 1);
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	memcpy (dup, self, sizeof (gdouble));
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return dup;
#line 2815 "tabby.c"
}


static gpointer
__double_dup0 (gpointer self)
{
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self ? _double_dup (self) : NULL;
#line 2824 "tabby.c"
}


static void
tabby_base_session_helper_reorder_tabs (TabbyBaseSession* self,
                                        GPtrArray* new_tabs)
{
	GCompareDataFunc helper_compare_data = NULL;
	void* helper_compare_data_target;
	GDestroyNotify helper_compare_data_target_destroy_notify;
	GCompareFunc helper_compare_func = NULL;
	MidoriBrowser* _tmp0_;
	GtkNotebook* _tmp1_;
	GtkNotebook* _tmp2_;
	GtkNotebook* _tmp3_;
	guint _tmp4_;
	MidoriBrowser* _tmp36_;
	GtkNotebook* _tmp37_;
	GtkNotebook* _tmp38_;
	GtkNotebook* _tmp39_;
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (new_tabs != NULL);
#line 315 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data = ___lambda7__gcompare_data_func;
#line 315 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data_target = g_object_ref (self);
#line 315 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data_target_destroy_notify = g_object_unref;
#line 323 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_func = ___lambda8__gcompare_func;
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_browser;
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp0_, "notebook", &_tmp1_, NULL);
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = _tmp1_;
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = _tmp2_;
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_parse_name ("page-reordered", GTK_TYPE_NOTEBOOK, &_tmp4_, NULL, FALSE);
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_handlers_disconnect_matched (_tmp3_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _tabby_base_session_tab_reordered_gtk_notebook_page_reordered, self);
#line 327 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp3_);
#line 2871 "tabby.c"
	{
		gint i = 0;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		i = 0;
#line 2876 "tabby.c"
		{
			gboolean _tmp5_ = FALSE;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp5_ = TRUE;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			while (TRUE) {
#line 2883 "tabby.c"
				gint _tmp7_;
				guint _tmp8_;
				MidoriView* tab = NULL;
				gint _tmp9_;
				void* _tmp10_;
				MidoriView* _tmp11_;
				KatzeItem* item = NULL;
				MidoriView* _tmp12_;
				KatzeItem* _tmp13_;
				gdouble sorting = 0.0;
				gchar* sorting_string = NULL;
				KatzeItem* _tmp14_;
				const gchar* _tmp15_;
				gchar* _tmp16_;
				const gchar* _tmp17_;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				if (!_tmp5_) {
#line 2901 "tabby.c"
					gint _tmp6_;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp6_ = i;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					i = _tmp6_ + 1;
#line 2907 "tabby.c"
				}
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp5_ = FALSE;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp7_ = i;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp8_ = new_tabs->len;
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				if (!(((guint) _tmp7_) < _tmp8_)) {
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					break;
#line 2919 "tabby.c"
				}
#line 329 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp9_ = i;
#line 329 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp10_ = g_ptr_array_index (new_tabs, (guint) _tmp9_);
#line 329 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp11_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp10_, MIDORI_TYPE_VIEW) ? ((MidoriView*) _tmp10_) : NULL);
#line 329 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				tab = _tmp11_;
#line 331 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp12_ = tab;
#line 331 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp13_ = midori_view_get_proxy_item (_tmp12_);
#line 331 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				item = _tmp13_;
#line 334 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp14_ = item;
#line 334 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp15_ = katze_item_get_meta_string (_tmp14_, "sorting");
#line 334 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp16_ = g_strdup (_tmp15_);
#line 334 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				sorting_string = _tmp16_;
#line 335 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp17_ = sorting_string;
#line 335 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				if (_tmp17_ != NULL) {
#line 2947 "tabby.c"
					KatzeItem* _tmp18_;
					const gchar* _tmp19_;
					gdouble _tmp20_ = 0.0;
					gboolean _tmp21_;
#line 336 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp18_ = item;
#line 336 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp19_ = katze_item_get_meta_string (_tmp18_, "sorting");
#line 336 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp21_ = double_try_parse (_tmp19_, &_tmp20_, NULL);
#line 336 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					sorting = _tmp20_;
#line 336 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp21_) {
#line 2962 "tabby.c"
						gdouble _tmp22_;
						gdouble* _tmp23_;
						GCompareDataFunc _tmp24_;
						void* _tmp24__target;
						gint index = 0;
						GSList* _tmp25_;
						GSList* _tmp26_;
						gdouble _tmp27_;
						GCompareFunc _tmp28_;
						GSList* _tmp29_;
						MidoriBrowser* _tmp30_;
						GtkNotebook* _tmp31_;
						GtkNotebook* _tmp32_;
						GtkNotebook* _tmp33_;
						MidoriView* _tmp34_;
						gint _tmp35_;
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp22_ = sorting;
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp23_ = __double_dup0 (&_tmp22_);
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp24_ = helper_compare_data;
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp24__target = helper_compare_data_target;
#line 337 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						self->tab_sorting = g_slist_insert_sorted_with_data (self->tab_sorting, _tmp23_, _tmp24_, _tmp24__target);
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp25_ = self->tab_sorting;
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp26_ = self->tab_sorting;
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp27_ = sorting;
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp28_ = helper_compare_func;
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp29_ = g_slist_find_custom (_tmp26_, &_tmp27_, _tmp28_);
#line 339 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						index = g_slist_position (_tmp25_, _tmp29_);
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp30_ = self->priv->_browser;
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						g_object_get (_tmp30_, "notebook", &_tmp31_, NULL);
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp32_ = _tmp31_;
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp33_ = _tmp32_;
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp34_ = tab;
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp35_ = index;
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						gtk_notebook_reorder_child (_tmp33_, (GtkWidget*) _tmp34_, _tmp35_);
#line 341 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_g_object_unref0 (_tmp33_);
#line 3017 "tabby.c"
					}
				}
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_free0 (sorting_string);
#line 328 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (tab);
#line 3024 "tabby.c"
			}
		}
	}
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp36_ = self->priv->_browser;
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp36_, "notebook", &_tmp37_, NULL);
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp38_ = _tmp37_;
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp39_ = _tmp38_;
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (_tmp39_, "page-reordered", (GCallback) _tabby_base_session_tab_reordered_gtk_notebook_page_reordered, self, G_CONNECT_AFTER);
#line 345 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp39_);
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	(helper_compare_data_target_destroy_notify == NULL) ? NULL : (helper_compare_data_target_destroy_notify (helper_compare_data_target), NULL);
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data = NULL;
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data_target = NULL;
#line 314 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	helper_compare_data_target_destroy_notify = NULL;
#line 3048 "tabby.c"
}


static void
tabby_base_session_helper_duplicate_tab (TabbyBaseSession* self,
                                         MidoriView* view,
                                         MidoriView* new_view,
                                         MidoriNewView where,
                                         gboolean user_initiated)
{
	KatzeItem* item = NULL;
	KatzeItem* _tmp0_;
	KatzeItem* new_item = NULL;
	KatzeItem* _tmp1_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp2_;
	gint64 new_tab_id = 0LL;
	KatzeItem* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gint64 _tmp5_;
#line 348 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 348 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 348 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (new_view != NULL);
#line 349 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_view_get_proxy_item (view);
#line 349 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp0_;
#line 350 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = midori_view_get_proxy_item (new_view);
#line 350 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	new_item = _tmp1_;
#line 351 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = item;
#line 351 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp2_, "tabby-id");
#line 352 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = new_item;
#line 352 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	new_tab_id = katze_item_get_meta_integer (_tmp3_, "tabby-id");
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = tab_id;
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp5_ > ((gint64) 0)) {
#line 3095 "tabby.c"
		gint64 _tmp6_;
		gint64 _tmp7_;
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = tab_id;
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = new_tab_id;
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = _tmp6_ == _tmp7_;
#line 3104 "tabby.c"
	} else {
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = FALSE;
#line 3108 "tabby.c"
	}
#line 354 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp4_) {
#line 3112 "tabby.c"
		KatzeItem* _tmp8_;
#line 355 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = new_item;
#line 355 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		katze_item_set_meta_integer (_tmp8_, "tabby-id", (gint64) 0);
#line 3118 "tabby.c"
	}
}


TabbyBaseSession*
tabby_base_session_construct (GType object_type)
{
	TabbyBaseSession * self = NULL;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyBaseSession*) g_object_new (object_type, NULL);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 3131 "tabby.c"
}


MidoriBrowser*
tabby_base_session_get_browser (TabbyBaseSession* self)
{
	MidoriBrowser* result;
	MidoriBrowser* _tmp0_;
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_browser;
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp0_;
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 3148 "tabby.c"
}


void
tabby_base_session_set_browser (TabbyBaseSession* self,
                                MidoriBrowser* value)
{
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (tabby_base_session_get_browser (self) != value) {
#line 3160 "tabby.c"
		MidoriBrowser* _tmp0_;
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self->priv->_browser);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self->priv->_browser = _tmp0_;
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_notify_by_pspec ((GObject *) self, tabby_base_session_properties[TABBY_BASE_SESSION_BROWSER_PROPERTY]);
#line 3170 "tabby.c"
	}
}


TabbySessionState
tabby_base_session_get_state (TabbyBaseSession* self)
{
	TabbySessionState result;
	TabbySessionState _tmp0_;
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_state;
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp0_;
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 3188 "tabby.c"
}


void
tabby_base_session_set_state (TabbyBaseSession* self,
                              TabbySessionState value)
{
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (tabby_base_session_get_state (self) != value) {
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self->priv->_state = value;
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_notify_by_pspec ((GObject *) self, tabby_base_session_properties[TABBY_BASE_SESSION_STATE_PROPERTY]);
#line 3204 "tabby.c"
	}
}


static GObject *
tabby_base_session_constructor (GType type,
                                guint n_construct_properties,
                                GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	TabbyBaseSession * self;
#line 359 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	parent_class = G_OBJECT_CLASS (tabby_base_session_parent_class);
#line 359 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 359 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_BASE_TYPE_SESSION, TabbyBaseSession);
#line 360 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	__g_slist_free__g_free0_0 (self->tab_sorting);
#line 360 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->tab_sorting = NULL;
#line 359 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return obj;
#line 3229 "tabby.c"
}


static void
tabby_base_session_class_init (TabbyBaseSessionClass * klass)
{
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_parent_class = g_type_class_peek_parent (klass);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_type_class_add_private (klass, sizeof (TabbyBaseSessionPrivate));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->add_item = (void (*) (TabbyBaseSession *, KatzeItem*)) tabby_base_session_real_add_item;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->uri_changed = (void (*) (TabbyBaseSession *, MidoriView*, const gchar*)) tabby_base_session_real_uri_changed;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->data_changed = (void (*) (TabbyBaseSession *, MidoriView*)) tabby_base_session_real_data_changed;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_added = (void (*) (TabbyBaseSession *, MidoriBrowser*, MidoriView*)) tabby_base_session_real_tab_added;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_removed = (void (*) (TabbyBaseSession *, MidoriBrowser*, MidoriView*)) tabby_base_session_real_tab_removed;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_switched = (void (*) (TabbyBaseSession *, MidoriView*, MidoriView*)) tabby_base_session_real_tab_switched;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_reordered = (void (*) (TabbyBaseSession *, GtkWidget*, guint)) tabby_base_session_real_tab_reordered;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->remove = (void (*) (TabbyBaseSession *)) tabby_base_session_real_remove;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->get_tabs = (KatzeArray* (*) (TabbyBaseSession *)) tabby_base_session_real_get_tabs;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->get_max_sorting = (gdouble (*) (TabbyBaseSession *)) tabby_base_session_real_get_max_sorting;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->close = (void (*) (TabbyBaseSession *)) tabby_base_session_real_close;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_tabby_base_session_get_property;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_tabby_base_session_set_property;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->constructor = tabby_base_session_constructor;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->finalize = tabby_base_session_finalize;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TABBY_BASE_SESSION_BROWSER_PROPERTY, tabby_base_session_properties[TABBY_BASE_SESSION_BROWSER_PROPERTY] = g_param_spec_object ("browser", "browser", "browser", MIDORI_TYPE_BROWSER, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TABBY_BASE_SESSION_STATE_PROPERTY, tabby_base_session_properties[TABBY_BASE_SESSION_STATE_PROPERTY] = g_param_spec_enum ("state", "state", "state", TABBY_TYPE_SESSION_STATE, TABBY_SESSION_STATE_CLOSED, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 3274 "tabby.c"
}


static void
tabby_base_session_tabby_isession_interface_init (TabbyISessionIface * iface)
{
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_base_session_tabby_isession_parent_iface = g_type_interface_peek_parent (iface);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->add_item = (void (*) (TabbyISession *, KatzeItem*)) tabby_base_session_add_item;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->remove = (void (*) (TabbyISession *)) tabby_base_session_remove;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->get_tabs = (KatzeArray* (*) (TabbyISession *)) tabby_base_session_get_tabs;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->attach = (void (*) (TabbyISession *, MidoriBrowser*)) tabby_base_session_real_attach;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->restore = (void (*) (TabbyISession *, MidoriBrowser*)) tabby_base_session_real_restore;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	iface->close = (void (*) (TabbyISession *)) tabby_base_session_close;
#line 3295 "tabby.c"
}


static void
tabby_base_session_instance_init (TabbyBaseSession * self)
{
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv = TABBY_BASE_SESSION_GET_PRIVATE (self);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->_browser = NULL;
#line 102 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->_state = TABBY_SESSION_STATE_CLOSED;
#line 3308 "tabby.c"
}


static void
tabby_base_session_finalize (GObject * obj)
{
	TabbyBaseSession * self;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_BASE_TYPE_SESSION, TabbyBaseSession);
#line 99 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	__g_slist_free__g_free0_0 (self->tab_sorting);
#line 101 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->_browser);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (tabby_base_session_parent_class)->finalize (obj);
#line 3324 "tabby.c"
}


GType
tabby_base_session_get_type (void)
{
	static volatile gsize tabby_base_session_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_base_session_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyBaseSessionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tabby_base_session_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TabbyBaseSession), 0, (GInstanceInitFunc) tabby_base_session_instance_init, NULL };
		static const GInterfaceInfo tabby_isession_info = { (GInterfaceInitFunc) tabby_base_session_tabby_isession_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType tabby_base_session_type_id;
		tabby_base_session_type_id = g_type_register_static (G_TYPE_OBJECT, "TabbyBaseSession", &g_define_type_info, G_TYPE_FLAG_ABSTRACT);
		g_type_add_interface_static (tabby_base_session_type_id, TABBY_TYPE_ISESSION, &tabby_isession_info);
		g_once_init_leave (&tabby_base_session_type_id__volatile, tabby_base_session_type_id);
	}
	return tabby_base_session_type_id__volatile;
}


static void
_vala_tabby_base_session_get_property (GObject * object,
                                       guint property_id,
                                       GValue * value,
                                       GParamSpec * pspec)
{
	TabbyBaseSession * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_BASE_TYPE_SESSION, TabbyBaseSession);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_SESSION_BROWSER_PROPERTY:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_value_set_object (value, tabby_base_session_get_browser (self));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_SESSION_STATE_PROPERTY:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_value_set_enum (value, tabby_base_session_get_state (self));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 3366 "tabby.c"
		default:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 3372 "tabby.c"
	}
}


static void
_vala_tabby_base_session_set_property (GObject * object,
                                       guint property_id,
                                       const GValue * value,
                                       GParamSpec * pspec)
{
	TabbyBaseSession * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_BASE_TYPE_SESSION, TabbyBaseSession);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_SESSION_BROWSER_PROPERTY:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_set_browser (self, g_value_get_object (value));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_BASE_SESSION_STATE_PROPERTY:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_set_state (self, g_value_get_enum (value));
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 3399 "tabby.c"
		default:
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 98 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 3405 "tabby.c"
	}
}


static void
tabby_local_session_real_add_item (TabbyBaseSession* base,
                                   KatzeItem* item)
{
	TabbyLocalSession * self;
	GDateTime* time = NULL;
	GDateTime* _tmp0_;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_;
	gchar* sorting = NULL;
	gchar* _tmp3_;
	gchar* sqlcmd = NULL;
	gchar* _tmp4_;
	gint64 tstamp = 0LL;
	gint64 _tmp5_;
	GError * _inner_error_ = NULL;
#line 370 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 370 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (item != NULL);
#line 371 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 371 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	time = _tmp0_;
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = katze_item_get_meta_string (item, "sorting");
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _tmp2_;
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp1_ == NULL) {
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = "1";
#line 3442 "tabby.c"
	}
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = g_strdup (_tmp1_);
#line 372 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sorting = _tmp3_;
#line 373 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = g_strdup ("INSERT INTO `tabs` (`crdate`, `tstamp`, `session_id`, `uri`, `title`, " \
"`sorting`) VALUES (:crdate, :tstamp, :session_id, :uri, :title, :sorti" \
"ng);");
#line 373 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp4_;
#line 375 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tstamp = katze_item_get_meta_integer (item, "tabby-tstamp");
#line 376 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = tstamp;
#line 376 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp5_ < ((gint64) 0)) {
#line 377 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tstamp = (gint64) 0;
#line 3460 "tabby.c"
	}
	{
		MidoriDatabaseStatement* statement = NULL;
		MidoriDatabase* _tmp6_;
		const gchar* _tmp7_;
		GDateTime* _tmp8_;
		gint64 _tmp9_;
		gint64 _tmp10_;
		const gchar* _tmp11_;
		const gchar* _tmp12_;
		const gchar* _tmp13_;
		const gchar* _tmp14_;
		const gchar* _tmp15_;
		MidoriDatabaseStatement* _tmp16_;
		MidoriDatabaseStatement* _tmp17_;
		gint64 tab_id = 0LL;
		MidoriDatabaseStatement* _tmp18_;
		gint64 _tmp19_;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = self->priv->database;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = sqlcmd;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = time;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = tstamp;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = self->priv->_id;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp11_ = katze_item_get_uri (item);
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp12_ = _tmp11_;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp13_ = katze_item_get_name (item);
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = _tmp13_;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp15_ = sorting;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp16_ = midori_database_prepare (_tmp6_, _tmp7_, &_inner_error_, ":crdate", G_TYPE_INT64, g_date_time_to_unix (_tmp8_), ":tstamp", G_TYPE_INT64, _tmp9_, ":session_id", G_TYPE_INT64, _tmp10_, ":uri", G_TYPE_STRING, _tmp12_, ":title", G_TYPE_STRING, _tmp14_, ":sorting", G_TYPE_DOUBLE, double_parse (_tmp15_), NULL);
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		statement = _tmp16_;
#line 381 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 3505 "tabby.c"
			goto __catch0_g_error;
		}
#line 388 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp17_ = statement;
#line 388 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp17_, &_inner_error_);
#line 388 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 388 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 3516 "tabby.c"
			goto __catch0_g_error;
		}
#line 389 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp18_ = statement;
#line 389 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tab_id = midori_database_statement_row_id (_tmp18_, &_inner_error_);
#line 389 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 389 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 3527 "tabby.c"
			goto __catch0_g_error;
		}
#line 390 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp19_ = tab_id;
#line 390 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		katze_item_set_meta_integer (item, "tabby-id", _tmp19_);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (statement);
#line 3536 "tabby.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp20_;
		const gchar* _tmp21_;
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 392 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp20_ = _error_;
#line 392 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp21_ = _tmp20_->message;
#line 392 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp21_);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 3556 "tabby.c"
	}
	__finally0:
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sorting);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_date_time_unref0 (time);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 380 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 3573 "tabby.c"
	}
#line 370 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 370 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sorting);
#line 370 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_date_time_unref0 (time);
#line 3581 "tabby.c"
}


static void
tabby_local_session_real_uri_changed (TabbyBaseSession* base,
                                      MidoriView* view,
                                      const gchar* uri)
{
	TabbyLocalSession * self;
	KatzeItem* item = NULL;
	KatzeItem* _tmp0_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp1_;
	gchar* sqlcmd = NULL;
	gchar* _tmp2_;
	GError * _inner_error_ = NULL;
#line 396 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 396 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 396 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (uri != NULL);
#line 397 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_view_get_proxy_item (view);
#line 397 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp0_;
#line 398 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = item;
#line 398 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp1_, "tabby-id");
#line 399 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_strdup ("UPDATE `tabs` SET uri = :uri WHERE session_id = :session_id AND id = :" \
"tab_id;");
#line 399 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp2_;
#line 3616 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp3_ = NULL;
		MidoriDatabase* _tmp4_;
		const gchar* _tmp5_;
		gint64 _tmp6_;
		gint64 _tmp7_;
		MidoriDatabaseStatement* _tmp8_;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->database;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = sqlcmd;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = self->priv->_id;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = tab_id;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = midori_database_prepare (_tmp4_, _tmp5_, &_inner_error_, ":uri", G_TYPE_STRING, uri, ":session_id", G_TYPE_INT64, _tmp6_, ":tab_id", G_TYPE_INT64, _tmp7_, NULL);
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp8_;
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 3638 "tabby.c"
			goto __catch1_g_error;
		}
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp3_, &_inner_error_);
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 401 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp3_);
#line 3647 "tabby.c"
			goto __catch1_g_error;
		}
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp3_);
#line 3652 "tabby.c"
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp9_;
		const gchar* _tmp10_;
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 406 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _error_;
#line 406 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = _tmp9_->message;
#line 406 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp10_);
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 3672 "tabby.c"
	}
	__finally1:
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 400 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 3685 "tabby.c"
	}
#line 396 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 3689 "tabby.c"
}


static void
tabby_local_session_real_data_changed (TabbyBaseSession* base,
                                       MidoriView* view)
{
	TabbyLocalSession * self;
	KatzeItem* item = NULL;
	KatzeItem* _tmp0_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp1_;
	gchar* sqlcmd = NULL;
	gchar* _tmp2_;
	GError * _inner_error_ = NULL;
#line 410 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 410 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 411 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_view_get_proxy_item (view);
#line 411 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp0_;
#line 412 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = item;
#line 412 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp1_, "tabby-id");
#line 413 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_strdup ("UPDATE `tabs` SET title = :title WHERE session_id = :session_id AND id" \
" = :tab_id;");
#line 413 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp2_;
#line 3721 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp3_ = NULL;
		MidoriDatabase* _tmp4_;
		const gchar* _tmp5_;
		const gchar* _tmp6_;
		gint64 _tmp7_;
		gint64 _tmp8_;
		MidoriDatabaseStatement* _tmp9_;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->database;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = sqlcmd;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = midori_view_get_display_title (view);
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = self->priv->_id;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = tab_id;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = midori_database_prepare (_tmp4_, _tmp5_, &_inner_error_, ":title", G_TYPE_STRING, _tmp6_, ":session_id", G_TYPE_INT64, _tmp7_, ":tab_id", G_TYPE_INT64, _tmp8_, NULL);
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp9_;
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 3746 "tabby.c"
			goto __catch2_g_error;
		}
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp3_, &_inner_error_);
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 415 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp3_);
#line 3755 "tabby.c"
			goto __catch2_g_error;
		}
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp3_);
#line 3760 "tabby.c"
	}
	goto __finally2;
	__catch2_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp10_;
		const gchar* _tmp11_;
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 420 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = _error_;
#line 420 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp11_ = _tmp10_->message;
#line 420 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp11_);
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 3780 "tabby.c"
	}
	__finally2:
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 414 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 3793 "tabby.c"
	}
#line 410 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 3797 "tabby.c"
}


static void
tabby_local_session_real_tab_added (TabbyBaseSession* base,
                                    MidoriBrowser* browser,
                                    MidoriView* view)
{
	TabbyLocalSession * self;
	KatzeItem* item = NULL;
	KatzeItem* _tmp0_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp1_;
	gint64 _tmp2_;
#line 424 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 424 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 424 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 425 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_view_get_proxy_item (view);
#line 425 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp0_;
#line 426 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = item;
#line 426 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp1_, "tabby-id");
#line 427 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = tab_id;
#line 427 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp2_ < ((gint64) 1)) {
#line 3830 "tabby.c"
		gdouble sorting = 0.0;
		KatzeItem* _tmp3_;
		gdouble _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		KatzeItem* _tmp7_;
#line 428 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		sorting = tabby_base_session_get_tab_sorting ((TabbyBaseSession*) self, view);
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = item;
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = sorting;
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = double_to_string (_tmp4_);
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = _tmp5_;
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		katze_item_set_meta_string (_tmp3_, "sorting", _tmp6_);
#line 429 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (_tmp6_);
#line 430 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = item;
#line 430 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_add_item ((TabbyBaseSession*) self, _tmp7_);
#line 3855 "tabby.c"
	}
}


static void
tabby_local_session_real_tab_removed (TabbyBaseSession* base,
                                      MidoriBrowser* browser,
                                      MidoriView* view)
{
	TabbyLocalSession * self;
	KatzeItem* item = NULL;
	KatzeItem* _tmp0_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp1_;
	gchar* sqlcmd = NULL;
	gchar* _tmp2_;
	GError * _inner_error_ = NULL;
#line 434 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 434 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 434 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (view != NULL);
#line 435 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_view_get_proxy_item (view);
#line 435 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp0_;
#line 436 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = item;
#line 436 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp1_, "tabby-id");
#line 438 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_strdup ("DELETE FROM `tabs` WHERE session_id = :session_id AND id = :tab_id;");
#line 438 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp2_;
#line 3891 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp3_ = NULL;
		MidoriDatabase* _tmp4_;
		const gchar* _tmp5_;
		gint64 _tmp6_;
		gint64 _tmp7_;
		MidoriDatabaseStatement* _tmp8_;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->database;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = sqlcmd;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = self->priv->_id;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = tab_id;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = midori_database_prepare (_tmp4_, _tmp5_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp6_, ":tab_id", G_TYPE_INT64, _tmp7_, NULL);
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp8_;
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 3913 "tabby.c"
			goto __catch3_g_error;
		}
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp3_, &_inner_error_);
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 440 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp3_);
#line 3922 "tabby.c"
			goto __catch3_g_error;
		}
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp3_);
#line 3927 "tabby.c"
	}
	goto __finally3;
	__catch3_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp9_;
		const gchar* _tmp10_;
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 444 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _error_;
#line 444 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = _tmp9_->message;
#line 444 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp10_);
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 3947 "tabby.c"
	}
	__finally3:
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 439 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 3960 "tabby.c"
	}
#line 434 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 3964 "tabby.c"
}


static void
tabby_local_session_real_tab_switched (TabbyBaseSession* base,
                                       MidoriView* old_view,
                                       MidoriView* new_view)
{
	TabbyLocalSession * self;
	GDateTime* time = NULL;
	GDateTime* _tmp0_;
	KatzeItem* item = NULL;
	KatzeItem* _tmp1_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp2_;
	gint64 tstamp = 0LL;
	GDateTime* _tmp3_;
	KatzeItem* _tmp4_;
	gint64 _tmp5_;
	gchar* sqlcmd = NULL;
	gchar* _tmp6_;
	GError * _inner_error_ = NULL;
#line 448 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 449 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 449 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	time = _tmp0_;
#line 450 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = midori_view_get_proxy_item (new_view);
#line 450 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp1_;
#line 451 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = item;
#line 451 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp2_, "tabby-id");
#line 452 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = time;
#line 452 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tstamp = g_date_time_to_unix (_tmp3_);
#line 453 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = item;
#line 453 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = tstamp;
#line 453 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	katze_item_set_meta_integer (_tmp4_, "tabby-tstamp", _tmp5_);
#line 454 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp6_ = g_strdup ("UPDATE `tabs` SET tstamp = :tstamp WHERE session_id = :session_id AND " \
"id = :tab_id;");
#line 454 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp6_;
#line 4015 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp7_ = NULL;
		MidoriDatabase* _tmp8_;
		const gchar* _tmp9_;
		gint64 _tmp10_;
		gint64 _tmp11_;
		gint64 _tmp12_;
		MidoriDatabaseStatement* _tmp13_;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = self->priv->database;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = sqlcmd;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = self->priv->_id;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp11_ = tab_id;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp12_ = tstamp;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp13_ = midori_database_prepare (_tmp8_, _tmp9_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp10_, ":tab_id", G_TYPE_INT64, _tmp11_, ":tstamp", G_TYPE_INT64, _tmp12_, NULL);
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = _tmp13_;
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4040 "tabby.c"
			goto __catch4_g_error;
		}
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp7_, &_inner_error_);
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 456 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp7_);
#line 4049 "tabby.c"
			goto __catch4_g_error;
		}
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp7_);
#line 4054 "tabby.c"
	}
	goto __finally4;
	__catch4_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp14_;
		const gchar* _tmp15_;
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 461 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = _error_;
#line 461 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp15_ = _tmp14_->message;
#line 461 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp15_);
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4074 "tabby.c"
	}
	__finally4:
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_date_time_unref0 (time);
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 455 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 4089 "tabby.c"
	}
#line 448 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 448 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_date_time_unref0 (time);
#line 4095 "tabby.c"
}


static void
tabby_local_session_real_tab_reordered (TabbyBaseSession* base,
                                        GtkWidget* tab,
                                        guint pos)
{
	TabbyLocalSession * self;
	MidoriView* view = NULL;
	MidoriView* _tmp0_;
	gdouble sorting = 0.0;
	MidoriView* _tmp1_;
	KatzeItem* item = NULL;
	MidoriView* _tmp2_;
	KatzeItem* _tmp3_;
	gint64 tab_id = 0LL;
	KatzeItem* _tmp4_;
	gchar* sqlcmd = NULL;
	gchar* _tmp5_;
	KatzeItem* _tmp15_;
	gdouble _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	GError * _inner_error_ = NULL;
#line 465 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 465 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (tab != NULL);
#line 466 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (tab, MIDORI_TYPE_VIEW) ? ((MidoriView*) tab) : NULL);
#line 466 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	view = _tmp0_;
#line 468 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = view;
#line 468 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sorting = tabby_base_session_get_tab_sorting ((TabbyBaseSession*) self, _tmp1_);
#line 469 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = view;
#line 469 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = midori_view_get_proxy_item (_tmp2_);
#line 469 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	item = _tmp3_;
#line 470 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = item;
#line 470 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tab_id = katze_item_get_meta_integer (_tmp4_, "tabby-id");
#line 471 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = g_strdup ("UPDATE `tabs` SET sorting = :sorting WHERE session_id = :session_id AN" \
"D id = :tab_id;");
#line 471 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp5_;
#line 4147 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp6_ = NULL;
		MidoriDatabase* _tmp7_;
		const gchar* _tmp8_;
		gint64 _tmp9_;
		gint64 _tmp10_;
		gdouble _tmp11_;
		MidoriDatabaseStatement* _tmp12_;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = self->priv->database;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = sqlcmd;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = self->priv->_id;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = tab_id;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp11_ = sorting;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp12_ = midori_database_prepare (_tmp7_, _tmp8_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp9_, ":tab_id", G_TYPE_INT64, _tmp10_, ":sorting", G_TYPE_DOUBLE, _tmp11_, NULL);
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = _tmp12_;
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4172 "tabby.c"
			goto __catch5_g_error;
		}
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp6_, &_inner_error_);
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 473 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp6_);
#line 4181 "tabby.c"
			goto __catch5_g_error;
		}
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp6_);
#line 4186 "tabby.c"
	}
	goto __finally5;
	__catch5_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp13_;
		const gchar* _tmp14_;
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 478 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp13_ = _error_;
#line 478 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp14_ = _tmp13_->message;
#line 478 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp14_);
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4206 "tabby.c"
	}
	__finally5:
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (view);
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 472 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 4221 "tabby.c"
	}
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp15_ = item;
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp16_ = sorting;
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp17_ = double_to_string (_tmp16_);
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp18_ = _tmp17_;
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	katze_item_set_meta_string (_tmp15_, "sorting", _tmp18_);
#line 481 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (_tmp18_);
#line 465 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 465 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (view);
#line 4239 "tabby.c"
}


static void
tabby_local_session_real_remove (TabbyBaseSession* base)
{
	TabbyLocalSession * self;
	gchar* sqlcmd = NULL;
	gchar* _tmp0_;
	GError * _inner_error_ = NULL;
#line 484 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 485 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_strdup ("\n" \
"                    DELETE FROM `tabs` WHERE session_id = :session_id;" \
"\n" \
"                    DELETE FROM `sessions` WHERE id = :session_id;\n" \
"                    ");
#line 485 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp0_;
#line 4256 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp1_ = NULL;
		MidoriDatabase* _tmp2_;
		const gchar* _tmp3_;
		gint64 _tmp4_;
		MidoriDatabaseStatement* _tmp5_;
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = self->priv->database;
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = sqlcmd;
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->_id;
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = midori_database_prepare (_tmp2_, _tmp3_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp4_, NULL);
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = _tmp5_;
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4275 "tabby.c"
			goto __catch6_g_error;
		}
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp1_, &_inner_error_);
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 490 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp1_);
#line 4284 "tabby.c"
			goto __catch6_g_error;
		}
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp1_);
#line 4289 "tabby.c"
	}
	goto __finally6;
	__catch6_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp6_;
		const gchar* _tmp7_;
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 493 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = _error_;
#line 493 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = _tmp6_->message;
#line 493 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp7_);
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4309 "tabby.c"
	}
	__finally6:
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 489 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 4322 "tabby.c"
	}
#line 484 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 4326 "tabby.c"
}


static void
tabby_local_session_real_close (TabbyBaseSession* base)
{
	TabbyLocalSession * self;
	MidoriBrowser* my_browser = NULL;
	MidoriBrowser* _tmp0_;
	MidoriBrowser* _tmp1_;
	MidoriBrowser* _tmp2_;
	gboolean should_break = FALSE;
	gboolean _tmp3_ = FALSE;
	MidoriBrowser* _tmp4_;
	GDateTime* time = NULL;
	GDateTime* _tmp18_;
	gchar* sqlcmd = NULL;
	gchar* _tmp19_;
	GError * _inner_error_ = NULL;
#line 497 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 499 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_base_session_get_browser ((TabbyBaseSession*) self);
#line 499 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _tmp0_;
#line 499 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 499 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	my_browser = _tmp2_;
#line 500 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_SESSION_CLASS (tabby_local_session_parent_class)->close (G_TYPE_CHECK_INSTANCE_CAST (self, TABBY_BASE_TYPE_SESSION, TabbyBaseSession));
#line 502 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	should_break = TRUE;
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = my_browser;
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp4_ != NULL) {
#line 4364 "tabby.c"
		MidoriBrowser* _tmp5_;
		gboolean _tmp6_;
		gboolean _tmp7_;
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = my_browser;
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = gtk_window_get_destroy_with_parent ((GtkWindow*) _tmp5_);
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = _tmp6_;
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = !_tmp7_;
#line 4376 "tabby.c"
	} else {
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = FALSE;
#line 4380 "tabby.c"
	}
#line 503 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp3_) {
#line 4384 "tabby.c"
		MidoriApp* _tmp8_;
		GList* _tmp9_;
		gboolean _tmp17_;
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = tabby_APP;
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = midori_app_get_browsers (_tmp8_);
#line 4392 "tabby.c"
		{
			GList* browser_collection = NULL;
			GList* browser_it = NULL;
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			browser_collection = _tmp9_;
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			for (browser_it = browser_collection; browser_it != NULL; browser_it = browser_it->next) {
#line 4400 "tabby.c"
				MidoriBrowser* _tmp10_;
				MidoriBrowser* browser = NULL;
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp10_ = _g_object_ref0 ((MidoriBrowser*) browser_it->data);
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				browser = _tmp10_;
#line 4407 "tabby.c"
				{
					gboolean _tmp11_ = FALSE;
					MidoriBrowser* _tmp12_;
					MidoriBrowser* _tmp13_;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp12_ = browser;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp13_ = my_browser;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp12_ != _tmp13_) {
#line 4418 "tabby.c"
						MidoriBrowser* _tmp14_;
						gboolean _tmp15_;
						gboolean _tmp16_;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp14_ = browser;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp15_ = gtk_window_get_destroy_with_parent ((GtkWindow*) _tmp14_);
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp16_ = _tmp15_;
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp11_ = !_tmp16_;
#line 4430 "tabby.c"
					} else {
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp11_ = FALSE;
#line 4434 "tabby.c"
					}
#line 505 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp11_) {
#line 506 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						should_break = FALSE;
#line 507 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_g_object_unref0 (browser);
#line 507 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						break;
#line 4444 "tabby.c"
					}
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_g_object_unref0 (browser);
#line 4448 "tabby.c"
				}
			}
#line 504 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_list_free0 (browser_collection);
#line 4453 "tabby.c"
		}
#line 511 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp17_ = should_break;
#line 511 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp17_) {
#line 512 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (my_browser);
#line 512 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			return;
#line 4463 "tabby.c"
		}
	}
#line 516 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp18_ = g_date_time_new_now_local ();
#line 516 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	time = _tmp18_;
#line 517 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp19_ = g_strdup ("UPDATE `sessions` SET closed = 1, tstamp = :tstamp WHERE id = :session" \
"_id;");
#line 517 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp19_;
#line 4474 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp20_ = NULL;
		MidoriDatabase* _tmp21_;
		const gchar* _tmp22_;
		gint64 _tmp23_;
		GDateTime* _tmp24_;
		MidoriDatabaseStatement* _tmp25_;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp21_ = self->priv->database;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp22_ = sqlcmd;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp23_ = self->priv->_id;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp24_ = time;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp25_ = midori_database_prepare (_tmp21_, _tmp22_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp23_, ":tstamp", G_TYPE_INT64, g_date_time_to_unix (_tmp24_), NULL);
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp20_ = _tmp25_;
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4496 "tabby.c"
			goto __catch7_g_error;
		}
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp20_, &_inner_error_);
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 519 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp20_);
#line 4505 "tabby.c"
			goto __catch7_g_error;
		}
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp20_);
#line 4510 "tabby.c"
	}
	goto __finally7;
	__catch7_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp26_;
		const gchar* _tmp27_;
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 523 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp26_ = _error_;
#line 523 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp27_ = _tmp26_->message;
#line 523 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp27_);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4530 "tabby.c"
	}
	__finally7:
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_date_time_unref0 (time);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (my_browser);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 518 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 4547 "tabby.c"
	}
#line 497 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 497 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_date_time_unref0 (time);
#line 497 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (my_browser);
#line 4555 "tabby.c"
}


static KatzeArray*
tabby_local_session_real_get_tabs (TabbyBaseSession* base)
{
	TabbyLocalSession * self;
	KatzeArray* result = NULL;
	KatzeArray* tabs = NULL;
	KatzeArray* _tmp0_;
	gchar* sqlcmd = NULL;
	gchar* _tmp1_;
	GError * _inner_error_ = NULL;
#line 527 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 528 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = katze_array_new (KATZE_TYPE_ITEM);
#line 528 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabs = _tmp0_;
#line 530 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = g_strdup ("SELECT id, uri, title, sorting FROM tabs WHERE session_id = :session_i" \
"d ORDER BY tstamp DESC");
#line 530 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp1_;
#line 4579 "tabby.c"
	{
		MidoriDatabaseStatement* statement = NULL;
		MidoriDatabase* _tmp2_;
		const gchar* _tmp3_;
		gint64 _tmp4_;
		MidoriDatabaseStatement* _tmp5_;
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = self->priv->database;
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = sqlcmd;
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = self->priv->_id;
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = midori_database_prepare (_tmp2_, _tmp3_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp4_, NULL);
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		statement = _tmp5_;
#line 532 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4598 "tabby.c"
			goto __catch8_g_error;
		}
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		while (TRUE) {
#line 4603 "tabby.c"
			gboolean _tmp6_ = FALSE;
			MidoriDatabaseStatement* _tmp7_;
			KatzeItem* item = NULL;
			KatzeItem* _tmp8_;
			gint64 id = 0LL;
			MidoriDatabaseStatement* _tmp9_;
			gchar* uri = NULL;
			MidoriDatabaseStatement* _tmp10_;
			gchar* _tmp11_;
			gchar* title = NULL;
			MidoriDatabaseStatement* _tmp12_;
			gchar* _tmp13_;
			gdouble sorting = 0.0;
			MidoriDatabaseStatement* _tmp14_;
			KatzeItem* _tmp15_;
			const gchar* _tmp16_;
			KatzeItem* _tmp17_;
			const gchar* _tmp18_;
			KatzeItem* _tmp19_;
			gint64 _tmp20_;
			KatzeItem* _tmp21_;
			gdouble _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
			KatzeItem* _tmp25_;
			KatzeArray* _tmp26_;
			KatzeItem* _tmp27_;
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp7_ = statement;
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp6_ = midori_database_statement_step (_tmp7_, &_inner_error_);
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 4639 "tabby.c"
				goto __catch8_g_error;
			}
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (!_tmp6_) {
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				break;
#line 4646 "tabby.c"
			}
#line 535 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = katze_item_new ();
#line 535 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			item = _tmp8_;
#line 536 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp9_ = statement;
#line 536 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			id = midori_database_statement_get_int64 (_tmp9_, "id", &_inner_error_);
#line 536 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 536 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 536 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 4662 "tabby.c"
				goto __catch8_g_error;
			}
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp10_ = statement;
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp11_ = midori_database_statement_get_string (_tmp10_, "uri", &_inner_error_);
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			uri = _tmp11_;
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 537 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 4677 "tabby.c"
				goto __catch8_g_error;
			}
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp12_ = statement;
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp13_ = midori_database_statement_get_string (_tmp12_, "title", &_inner_error_);
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			title = _tmp13_;
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_free0 (uri);
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 538 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 4694 "tabby.c"
				goto __catch8_g_error;
			}
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp14_ = statement;
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			sorting = midori_database_statement_get_double (_tmp14_, "sorting", &_inner_error_);
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_free0 (title);
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_free0 (uri);
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (item);
#line 539 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 4711 "tabby.c"
				goto __catch8_g_error;
			}
#line 540 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp15_ = item;
#line 540 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp16_ = uri;
#line 540 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_uri (_tmp15_, _tmp16_);
#line 541 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp17_ = item;
#line 541 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp18_ = title;
#line 541 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_name (_tmp17_, _tmp18_);
#line 542 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp19_ = item;
#line 542 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp20_ = id;
#line 542 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_meta_integer (_tmp19_, "tabby-id", _tmp20_);
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp21_ = item;
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp22_ = sorting;
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp23_ = double_to_string (_tmp22_);
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp24_ = _tmp23_;
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_meta_string (_tmp21_, "sorting", _tmp24_);
#line 543 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_free0 (_tmp24_);
#line 545 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp25_ = item;
#line 545 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			katze_item_set_meta_string (_tmp25_, "history-step", "ignore");
#line 546 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp26_ = tabs;
#line 546 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp27_ = item;
#line 546 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_signal_emit_by_name (_tmp26_, "add-item", (GObject*) _tmp27_);
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_free0 (title);
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_free0 (uri);
#line 534 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (item);
#line 4760 "tabby.c"
		}
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (statement);
#line 4764 "tabby.c"
	}
	goto __finally8;
	__catch8_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp28_;
		const gchar* _tmp29_;
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 549 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp28_ = _error_;
#line 549 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp29_ = _tmp28_->message;
#line 549 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to select from database: %s"), _tmp29_);
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4784 "tabby.c"
	}
	__finally8:
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (tabs);
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 531 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return NULL;
#line 4799 "tabby.c"
	}
#line 551 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = tabs;
#line 551 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 551 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 4807 "tabby.c"
}


static gdouble
tabby_local_session_real_get_max_sorting (TabbyBaseSession* base)
{
	TabbyLocalSession * self;
	gdouble result = 0.0;
	gchar* sqlcmd = NULL;
	gchar* _tmp0_;
	GError * _inner_error_ = NULL;
#line 554 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) base;
#line 555 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_strdup ("SELECT MAX(sorting) FROM tabs WHERE session_id = :session_id");
#line 555 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp0_;
#line 4825 "tabby.c"
	{
		MidoriDatabaseStatement* statement = NULL;
		MidoriDatabase* _tmp1_;
		const gchar* _tmp2_;
		gint64 _tmp3_;
		MidoriDatabaseStatement* _tmp4_;
		MidoriDatabaseStatement* _tmp5_;
		gdouble sorting = 0.0;
		MidoriDatabaseStatement* _tmp6_;
		gdouble _tmp7_;
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = self->priv->database;
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = sqlcmd;
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = self->priv->_id;
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = midori_database_prepare (_tmp1_, _tmp2_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp3_, NULL);
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		statement = _tmp4_;
#line 557 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4848 "tabby.c"
			goto __catch9_g_error;
		}
#line 559 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = statement;
#line 559 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_step (_tmp5_, &_inner_error_);
#line 559 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 559 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 4859 "tabby.c"
			goto __catch9_g_error;
		}
#line 560 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = statement;
#line 560 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		sorting = midori_database_statement_get_double (_tmp6_, "MAX(sorting)", &_inner_error_);
#line 560 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 560 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 4870 "tabby.c"
			goto __catch9_g_error;
		}
#line 561 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = sorting;
#line 561 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (!isnan (_tmp7_)) {
#line 562 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			result = sorting;
#line 562 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 562 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_free0 (sqlcmd);
#line 562 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			return result;
#line 4885 "tabby.c"
		}
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (statement);
#line 4889 "tabby.c"
	}
	goto __finally9;
	__catch9_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp8_;
		const gchar* _tmp9_;
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 565 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = _error_;
#line 565 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _tmp8_->message;
#line 565 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to select from database: %s"), _tmp9_);
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 4909 "tabby.c"
	}
	__finally9:
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4914 "tabby.c"
		gdouble _tmp10_ = 0.0;
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 556 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return _tmp10_;
#line 4924 "tabby.c"
	}
#line 568 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = 0.0;
#line 568 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 568 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 4932 "tabby.c"
}


TabbyLocalSession*
tabby_local_session_construct (GType object_type,
                               MidoriDatabase* database)
{
	TabbyLocalSession * self = NULL;
	MidoriDatabase* _tmp0_;
	GDateTime* time = NULL;
	GDateTime* _tmp1_;
	gchar* sqlcmd = NULL;
	gchar* _tmp2_;
	GError * _inner_error_ = NULL;
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (database != NULL, NULL);
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) tabby_base_session_construct (object_type);
#line 572 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (database);
#line 572 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->database);
#line 572 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->database = _tmp0_;
#line 574 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = g_date_time_new_now_local ();
#line 574 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	time = _tmp1_;
#line 576 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_strdup ("INSERT INTO `sessions` (`tstamp`) VALUES (:tstamp);");
#line 576 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp2_;
#line 4965 "tabby.c"
	{
		MidoriDatabaseStatement* statement = NULL;
		const gchar* _tmp3_;
		GDateTime* _tmp4_;
		MidoriDatabaseStatement* _tmp5_;
		MidoriDatabaseStatement* _tmp6_;
		gint64 _tmp7_ = 0LL;
		MidoriDatabaseStatement* _tmp8_;
#line 579 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = sqlcmd;
#line 579 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = time;
#line 579 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = midori_database_prepare (database, _tmp3_, &_inner_error_, ":tstamp", G_TYPE_INT64, g_date_time_to_unix (_tmp4_), NULL);
#line 579 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		statement = _tmp5_;
#line 579 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4984 "tabby.c"
			goto __catch10_g_error;
		}
#line 581 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = statement;
#line 581 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp6_, &_inner_error_);
#line 581 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 581 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 4995 "tabby.c"
			goto __catch10_g_error;
		}
#line 582 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = statement;
#line 582 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = midori_database_statement_row_id (_tmp8_, &_inner_error_);
#line 582 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 582 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (statement);
#line 5006 "tabby.c"
			goto __catch10_g_error;
		}
#line 582 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_local_session_set_id (self, _tmp7_);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (statement);
#line 5013 "tabby.c"
	}
	goto __finally10;
	__catch10_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp9_;
		const gchar* _tmp10_;
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 584 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _error_;
#line 584 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = _tmp9_->message;
#line 584 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp10_);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 5033 "tabby.c"
	}
	__finally10:
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_date_time_unref0 (time);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 578 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return NULL;
#line 5048 "tabby.c"
	}
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_date_time_unref0 (time);
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 5056 "tabby.c"
}


TabbyLocalSession*
tabby_local_session_new (MidoriDatabase* database)
{
#line 571 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return tabby_local_session_construct (TABBY_LOCAL_TYPE_SESSION, database);
#line 5065 "tabby.c"
}


TabbyLocalSession*
tabby_local_session_construct_with_id (GType object_type,
                                       MidoriDatabase* database,
                                       gint64 id)
{
	TabbyLocalSession * self = NULL;
	MidoriDatabase* _tmp0_;
	GDateTime* time = NULL;
	GDateTime* _tmp1_;
	gchar* sqlcmd = NULL;
	gchar* _tmp2_;
	GError * _inner_error_ = NULL;
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (database != NULL, NULL);
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalSession*) tabby_base_session_construct (object_type);
#line 589 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (database);
#line 589 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->database);
#line 589 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->database = _tmp0_;
#line 590 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_local_session_set_id (self, id);
#line 592 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = g_date_time_new_now_local ();
#line 592 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	time = _tmp1_;
#line 593 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = g_strdup ("UPDATE `sessions` SET closed = 0, tstamp = :tstamp WHERE id = :session" \
"_id;");
#line 593 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp2_;
#line 5101 "tabby.c"
	{
		MidoriDatabaseStatement* _tmp3_ = NULL;
		const gchar* _tmp4_;
		gint64 _tmp5_;
		GDateTime* _tmp6_;
		MidoriDatabaseStatement* _tmp7_;
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = sqlcmd;
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = self->priv->_id;
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = time;
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = midori_database_prepare (database, _tmp4_, &_inner_error_, ":session_id", G_TYPE_INT64, _tmp5_, ":tstamp", G_TYPE_INT64, g_date_time_to_unix (_tmp6_), NULL);
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp7_;
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 5120 "tabby.c"
			goto __catch11_g_error;
		}
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_statement_exec (_tmp3_, &_inner_error_);
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 596 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp3_);
#line 5129 "tabby.c"
			goto __catch11_g_error;
		}
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp3_);
#line 5134 "tabby.c"
	}
	goto __finally11;
	__catch11_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp8_;
		const gchar* _tmp9_;
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 600 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = _error_;
#line 600 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = _tmp8_->message;
#line 600 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to update database: %s"), _tmp9_);
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 5154 "tabby.c"
	}
	__finally11:
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_date_time_unref0 (time);
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 595 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return NULL;
#line 5169 "tabby.c"
	}
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_date_time_unref0 (time);
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 5177 "tabby.c"
}


TabbyLocalSession*
tabby_local_session_new_with_id (MidoriDatabase* database,
                                 gint64 id)
{
#line 588 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return tabby_local_session_construct_with_id (TABBY_LOCAL_TYPE_SESSION, database, id);
#line 5187 "tabby.c"
}


gint64
tabby_local_session_get_id (TabbyLocalSession* self)
{
	gint64 result;
	gint64 _tmp0_;
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, 0LL);
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->_id;
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp0_;
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5204 "tabby.c"
}


static void
tabby_local_session_set_id (TabbyLocalSession* self,
                            gint64 value)
{
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (tabby_local_session_get_id (self) != value) {
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self->priv->_id = value;
#line 367 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_notify_by_pspec ((GObject *) self, tabby_local_session_properties[TABBY_LOCAL_SESSION_ID_PROPERTY]);
#line 5220 "tabby.c"
	}
}


static void
tabby_local_session_class_init (TabbyLocalSessionClass * klass)
{
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_local_session_parent_class = g_type_class_peek_parent (klass);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_type_class_add_private (klass, sizeof (TabbyLocalSessionPrivate));
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->add_item = (void (*) (TabbyBaseSession *, KatzeItem*)) tabby_local_session_real_add_item;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->uri_changed = (void (*) (TabbyBaseSession *, MidoriView*, const gchar*)) tabby_local_session_real_uri_changed;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->data_changed = (void (*) (TabbyBaseSession *, MidoriView*)) tabby_local_session_real_data_changed;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_added = (void (*) (TabbyBaseSession *, MidoriBrowser*, MidoriView*)) tabby_local_session_real_tab_added;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_removed = (void (*) (TabbyBaseSession *, MidoriBrowser*, MidoriView*)) tabby_local_session_real_tab_removed;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_switched = (void (*) (TabbyBaseSession *, MidoriView*, MidoriView*)) tabby_local_session_real_tab_switched;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->tab_reordered = (void (*) (TabbyBaseSession *, GtkWidget*, guint)) tabby_local_session_real_tab_reordered;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->remove = (void (*) (TabbyBaseSession *)) tabby_local_session_real_remove;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->close = (void (*) (TabbyBaseSession *)) tabby_local_session_real_close;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->get_tabs = (KatzeArray* (*) (TabbyBaseSession *)) tabby_local_session_real_get_tabs;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseSessionClass *) klass)->get_max_sorting = (gdouble (*) (TabbyBaseSession *)) tabby_local_session_real_get_max_sorting;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_tabby_local_session_get_property;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_tabby_local_session_set_property;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->finalize = tabby_local_session_finalize;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TABBY_LOCAL_SESSION_ID_PROPERTY, tabby_local_session_properties[TABBY_LOCAL_SESSION_ID_PROPERTY] = g_param_spec_int64 ("id", "id", "id", G_MININT64, G_MAXINT64, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5262 "tabby.c"
}


static void
tabby_local_session_instance_init (TabbyLocalSession * self)
{
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv = TABBY_LOCAL_SESSION_GET_PRIVATE (self);
#line 5271 "tabby.c"
}


static void
tabby_local_session_finalize (GObject * obj)
{
	TabbyLocalSession * self;
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_LOCAL_TYPE_SESSION, TabbyLocalSession);
#line 368 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->database);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (tabby_local_session_parent_class)->finalize (obj);
#line 5285 "tabby.c"
}


GType
tabby_local_session_get_type (void)
{
	static volatile gsize tabby_local_session_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_local_session_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyLocalSessionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tabby_local_session_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TabbyLocalSession), 0, (GInstanceInitFunc) tabby_local_session_instance_init, NULL };
		GType tabby_local_session_type_id;
		tabby_local_session_type_id = g_type_register_static (TABBY_BASE_TYPE_SESSION, "TabbyLocalSession", &g_define_type_info, 0);
		g_once_init_leave (&tabby_local_session_type_id__volatile, tabby_local_session_type_id);
	}
	return tabby_local_session_type_id__volatile;
}


static void
_vala_tabby_local_session_get_property (GObject * object,
                                        guint property_id,
                                        GValue * value,
                                        GParamSpec * pspec)
{
	TabbyLocalSession * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_LOCAL_TYPE_SESSION, TabbyLocalSession);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_LOCAL_SESSION_ID_PROPERTY:
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_value_set_int64 (value, tabby_local_session_get_id (self));
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 5319 "tabby.c"
		default:
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 5325 "tabby.c"
	}
}


static void
_vala_tabby_local_session_set_property (GObject * object,
                                        guint property_id,
                                        const GValue * value,
                                        GParamSpec * pspec)
{
	TabbyLocalSession * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TABBY_LOCAL_TYPE_SESSION, TabbyLocalSession);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	switch (property_id) {
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		case TABBY_LOCAL_SESSION_ID_PROPERTY:
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_local_session_set_id (self, g_value_get_int64 (value));
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 5346 "tabby.c"
		default:
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 366 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		break;
#line 5352 "tabby.c"
	}
}


static KatzeArray*
tabby_local_storage_real_get_saved_sessions (TabbyBaseStorage* base)
{
	TabbyLocalStorage * self;
	KatzeArray* result = NULL;
	KatzeArray* sessions = NULL;
	KatzeArray* _tmp0_;
	gchar* sqlcmd = NULL;
	gchar* _tmp1_;
	KatzeArray* _tmp19_;
	GError * _inner_error_ = NULL;
#line 608 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalStorage*) base;
#line 609 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = katze_array_new (TABBY_LOCAL_TYPE_SESSION);
#line 609 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sessions = _tmp0_;
#line 611 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = g_strdup ("\n" \
"                    SELECT id, closed FROM sessions WHERE closed = 0\n" \
"                    UNION\n" \
"                    SELECT * FROM (SELECT id, closed FROM sessions WHE" \
"RE closed = 1 ORDER BY tstamp DESC LIMIT 1)\n" \
"                    ORDER BY closed;\n" \
"                ");
#line 611 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	sqlcmd = _tmp1_;
#line 5378 "tabby.c"
	{
		MidoriDatabaseStatement* statement = NULL;
		MidoriDatabase* _tmp2_;
		const gchar* _tmp3_;
		MidoriDatabaseStatement* _tmp4_;
#line 618 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = self->priv->database;
#line 618 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = sqlcmd;
#line 618 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = midori_database_prepare (_tmp2_, _tmp3_, &_inner_error_, NULL);
#line 618 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		statement = _tmp4_;
#line 618 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 5394 "tabby.c"
			goto __catch12_g_error;
		}
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		while (TRUE) {
#line 5399 "tabby.c"
			gboolean _tmp5_ = FALSE;
			MidoriDatabaseStatement* _tmp6_;
			gint64 id = 0LL;
			MidoriDatabaseStatement* _tmp7_;
			gint64 closed = 0LL;
			MidoriDatabaseStatement* _tmp8_;
			gboolean _tmp9_ = FALSE;
			gint64 _tmp10_;
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp6_ = statement;
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp5_ = midori_database_statement_step (_tmp6_, &_inner_error_);
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 5416 "tabby.c"
				goto __catch12_g_error;
			}
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (!_tmp5_) {
#line 619 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				break;
#line 5423 "tabby.c"
			}
#line 620 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp7_ = statement;
#line 620 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			id = midori_database_statement_get_int64 (_tmp7_, "id", &_inner_error_);
#line 620 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 620 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 5433 "tabby.c"
				goto __catch12_g_error;
			}
#line 621 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = statement;
#line 621 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			closed = midori_database_statement_get_int64 (_tmp8_, "closed", &_inner_error_);
#line 621 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 621 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (statement);
#line 5444 "tabby.c"
				goto __catch12_g_error;
			}
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp10_ = closed;
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (_tmp10_ == ((gint64) 0)) {
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp9_ = TRUE;
#line 5453 "tabby.c"
			} else {
				KatzeArray* _tmp11_;
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp11_ = sessions;
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp9_ = katze_array_is_empty (_tmp11_);
#line 5460 "tabby.c"
			}
#line 622 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (_tmp9_) {
#line 5464 "tabby.c"
				KatzeArray* _tmp12_;
				MidoriDatabase* _tmp13_;
				gint64 _tmp14_;
				TabbyLocalSession* _tmp15_;
				TabbyLocalSession* _tmp16_;
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp12_ = sessions;
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp13_ = self->priv->database;
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp14_ = id;
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp15_ = tabby_local_session_new_with_id (_tmp13_, _tmp14_);
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp16_ = _tmp15_;
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				g_signal_emit_by_name (_tmp12_, "add-item", (GObject*) _tmp16_);
#line 623 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (_tmp16_);
#line 5484 "tabby.c"
			}
		}
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (statement);
#line 5489 "tabby.c"
	}
	goto __finally12;
	__catch12_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp17_;
		const gchar* _tmp18_;
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 627 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp17_ = _error_;
#line 627 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp18_ = _tmp17_->message;
#line 627 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to select from database: %s"), _tmp18_);
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 5509 "tabby.c"
	}
	__finally12:
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (sqlcmd);
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (sessions);
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 617 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return NULL;
#line 5524 "tabby.c"
	}
#line 630 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp19_ = sessions;
#line 630 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (katze_array_is_empty (_tmp19_)) {
#line 5530 "tabby.c"
		KatzeArray* _tmp20_;
		MidoriDatabase* _tmp21_;
		TabbyLocalSession* _tmp22_;
		TabbyLocalSession* _tmp23_;
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp20_ = sessions;
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp21_ = self->priv->database;
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp22_ = tabby_local_session_new (_tmp21_);
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp23_ = _tmp22_;
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_signal_emit_by_name (_tmp20_, "add-item", (GObject*) _tmp23_);
#line 631 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp23_);
#line 5547 "tabby.c"
	}
#line 634 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = sessions;
#line 634 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_free0 (sqlcmd);
#line 634 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5555 "tabby.c"
}


static Block3Data*
block3_data_ref (Block3Data* _data3_)
{
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return _data3_;
#line 5566 "tabby.c"
}


static void
block3_data_unref (void * _userdata_)
{
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 5577 "tabby.c"
		TabbyLocalStorage* self;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self = _data3_->self;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_data3_->tabs);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_slice_free (Block3Data, _data3_);
#line 5587 "tabby.c"
	}
}


static gboolean
___lambda9_ (Block3Data* _data3_,
             GError** error)
{
	TabbyLocalStorage* self;
	gboolean result = FALSE;
#line 639 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = _data3_->self;
#line 640 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	TABBY_BASE_STORAGE_CLASS (tabby_local_storage_parent_class)->import_session (G_TYPE_CHECK_INSTANCE_CAST (self, TABBY_BASE_TYPE_STORAGE, TabbyBaseStorage), _data3_->tabs);
#line 640 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = TRUE;
#line 640 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5606 "tabby.c"
}


static gboolean
____lambda9__midori_database_callback (gpointer self,
                                       GError** error)
{
	gboolean result;
	result = ___lambda9_ (self, error);
#line 639 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5618 "tabby.c"
}


static void
tabby_local_storage_real_import_session (TabbyBaseStorage* base,
                                         KatzeArray* tabs)
{
	TabbyLocalStorage * self;
	Block3Data* _data3_;
	KatzeArray* _tmp0_;
	GError * _inner_error_ = NULL;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalStorage*) base;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (tabs != NULL);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data3_->_ref_count_ = 1;
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data3_->self = g_object_ref (self);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (tabs);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_data3_->tabs);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data3_->tabs = _tmp0_;
#line 5646 "tabby.c"
	{
		MidoriDatabase* _tmp1_;
#line 639 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = self->priv->database;
#line 639 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_database_transaction (_tmp1_, ____lambda9__midori_database_callback, _data3_, &_inner_error_);
#line 639 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 5655 "tabby.c"
			goto __catch13_g_error;
		}
	}
	goto __finally13;
	__catch13_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp2_;
		const gchar* _tmp3_;
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_error_ = _inner_error_;
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 643 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = _error_;
#line 643 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = _tmp2_->message;
#line 643 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical (_ ("Failed to select from database: %s"), _tmp3_);
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (_error_);
#line 5677 "tabby.c"
	}
	__finally13:
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		block3_data_unref (_data3_);
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_data3_ = NULL;
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 638 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return;
#line 5692 "tabby.c"
	}
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	block3_data_unref (_data3_);
#line 637 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_data3_ = NULL;
#line 5698 "tabby.c"
}


static TabbyBaseSession*
tabby_local_storage_real_get_new_session (TabbyBaseStorage* base)
{
	TabbyLocalStorage * self;
	TabbyBaseSession* result = NULL;
	MidoriDatabase* _tmp0_;
	TabbyLocalSession* _tmp1_;
	TabbyBaseSession* _tmp2_;
#line 647 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalStorage*) base;
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = self->priv->database;
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = tabby_local_session_new (_tmp0_);
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, TABBY_BASE_TYPE_SESSION) ? ((TabbyBaseSession*) _tmp1_) : NULL;
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp2_ == NULL) {
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp1_);
#line 5722 "tabby.c"
	}
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = _tmp2_;
#line 648 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5728 "tabby.c"
}


TabbyLocalStorage*
tabby_local_storage_construct (GType object_type,
                               MidoriApp* app)
{
	TabbyLocalStorage * self = NULL;
	MidoriDatabase* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	GError * _inner_error_ = NULL;
#line 651 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (app != NULL, NULL);
#line 652 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyLocalStorage*) g_object_new (object_type, "app", app, NULL);
#line 5745 "tabby.c"
	{
		MidoriDatabase* _tmp0_ = NULL;
		MidoriDatabase* _tmp1_;
		MidoriDatabase* _tmp2_;
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp1_ = midori_database_new ("tabby.db", &_inner_error_);
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = _tmp1_;
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (_inner_error_->domain == MIDORI_DATABASE_ERROR) {
#line 5758 "tabby.c"
				goto __catch14_midori_database_error;
			}
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_clear_error (&_inner_error_);
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			return NULL;
#line 5767 "tabby.c"
		}
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp2_ = _tmp0_;
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp0_ = NULL;
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (self->priv->database);
#line 655 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		self->priv->database = _tmp2_;
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp0_);
#line 5779 "tabby.c"
	}
	goto __finally14;
	__catch14_midori_database_error:
	{
		GError* schema_error = NULL;
		const gchar* _tmp3_;
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		schema_error = _inner_error_;
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_inner_error_ = NULL;
#line 657 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = schema_error->message;
#line 657 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_error ("tabby.vala:657: %s", _tmp3_);
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_error_free0 (schema_error);
#line 5796 "tabby.c"
	}
	__finally14:
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_clear_error (&_inner_error_);
#line 654 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		return NULL;
#line 5807 "tabby.c"
	}
#line 660 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = self->priv->database;
#line 660 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = midori_database_get_first_use (_tmp4_);
#line 660 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp6_ = _tmp5_;
#line 660 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp6_) {
#line 5817 "tabby.c"
		gchar* config_file = NULL;
		gchar* _tmp7_;
#line 661 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = midori_paths_get_config_filename_for_reading ("session.xbel");
#line 661 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		config_file = _tmp7_;
#line 5824 "tabby.c"
		{
			KatzeArray* old_session = NULL;
			KatzeArray* _tmp8_;
			KatzeArray* _tmp9_;
			const gchar* _tmp10_;
			KatzeArray* _tmp11_;
#line 663 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = katze_array_new (KATZE_TYPE_ITEM);
#line 663 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			old_session = _tmp8_;
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp9_ = old_session;
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp10_ = config_file;
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			midori_array_from_file (_tmp9_, _tmp10_, "xbel-tiny", &_inner_error_);
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_g_object_unref0 (old_session);
#line 664 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				if (_inner_error_->domain == G_FILE_ERROR) {
#line 5847 "tabby.c"
					goto __catch15_g_file_error;
				}
				goto __catch15_g_error;
			}
#line 665 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp11_ = old_session;
#line 665 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			tabby_base_storage_import_session ((TabbyBaseStorage*) self, _tmp11_);
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (old_session);
#line 5858 "tabby.c"
		}
		goto __finally15;
		__catch15_g_file_error:
		{
			GError* file_error = NULL;
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			file_error = _inner_error_;
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_inner_error_ = NULL;
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_error_free0 (file_error);
#line 5870 "tabby.c"
		}
		goto __finally15;
		__catch15_g_error:
		{
			GError* _error_ = NULL;
			GError* _tmp12_;
			const gchar* _tmp13_;
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_error_ = _inner_error_;
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_inner_error_ = NULL;
#line 669 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp12_ = _error_;
#line 669 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp13_ = _tmp12_->message;
#line 669 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_critical (_ ("Failed to import legacy session: %s"), _tmp13_);
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_error_free0 (_error_);
#line 5890 "tabby.c"
		}
		__finally15:
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_free0 (config_file);
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_clear_error (&_inner_error_);
#line 662 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			return NULL;
#line 5903 "tabby.c"
		}
#line 660 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_free0 (config_file);
#line 5907 "tabby.c"
	}
#line 651 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 5911 "tabby.c"
}


TabbyLocalStorage*
tabby_local_storage_new (MidoriApp* app)
{
#line 651 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return tabby_local_storage_construct (TABBY_LOCAL_TYPE_STORAGE, app);
#line 5920 "tabby.c"
}


static void
tabby_local_storage_class_init (TabbyLocalStorageClass * klass)
{
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_local_storage_parent_class = g_type_class_peek_parent (klass);
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_type_class_add_private (klass, sizeof (TabbyLocalStoragePrivate));
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->get_saved_sessions = (KatzeArray* (*) (TabbyBaseStorage *)) tabby_local_storage_real_get_saved_sessions;
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->import_session = (void (*) (TabbyBaseStorage *, KatzeArray*)) tabby_local_storage_real_import_session;
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	((TabbyBaseStorageClass *) klass)->get_new_session = (TabbyBaseSession* (*) (TabbyBaseStorage *)) tabby_local_storage_real_get_new_session;
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->finalize = tabby_local_storage_finalize;
#line 5939 "tabby.c"
}


static void
tabby_local_storage_instance_init (TabbyLocalStorage * self)
{
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv = TABBY_LOCAL_STORAGE_GET_PRIVATE (self);
#line 5948 "tabby.c"
}


static void
tabby_local_storage_finalize (GObject * obj)
{
	TabbyLocalStorage * self;
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_LOCAL_TYPE_STORAGE, TabbyLocalStorage);
#line 606 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->database);
#line 605 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (tabby_local_storage_parent_class)->finalize (obj);
#line 5962 "tabby.c"
}


GType
tabby_local_storage_get_type (void)
{
	static volatile gsize tabby_local_storage_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_local_storage_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyLocalStorageClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tabby_local_storage_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TabbyLocalStorage), 0, (GInstanceInitFunc) tabby_local_storage_instance_init, NULL };
		GType tabby_local_storage_type_id;
		tabby_local_storage_type_id = g_type_register_static (TABBY_BASE_TYPE_STORAGE, "TabbyLocalStorage", &g_define_type_info, 0);
		g_once_init_leave (&tabby_local_storage_type_id__volatile, tabby_local_storage_type_id);
	}
	return tabby_local_storage_type_id__volatile;
}


static gboolean
_tabby_manager_execute_commands_gsource_func (gpointer self)
{
	gboolean result;
	result = tabby_manager_execute_commands ((TabbyManager*) self);
#line 690 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 5987 "tabby.c"
}


static gboolean
tabby_manager_load_session (TabbyManager* self)
{
	gboolean result = FALSE;
	gint load_on_startup = 0;
	MidoriApp* _tmp0_;
	MidoriWebSettings* _tmp1_;
	MidoriWebSettings* _tmp2_;
	MidoriWebSettings* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gint _tmp5_;
#line 678 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_APP;
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get (_tmp0_, "settings", &_tmp1_, NULL);
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = _tmp1_;
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = _tmp2_;
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_object_get ((GObject*) _tmp3_, "load-on-startup", &load_on_startup, NULL);
#line 681 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (_tmp3_);
#line 682 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp5_ = load_on_startup;
#line 682 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp5_ == ((gint) MIDORI_STARTUP_BLANK_PAGE)) {
#line 682 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = TRUE;
#line 6022 "tabby.c"
	} else {
		gint _tmp6_;
#line 683 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = load_on_startup;
#line 683 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = _tmp6_ == ((gint) MIDORI_STARTUP_HOMEPAGE);
#line 6029 "tabby.c"
	}
#line 682 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp4_) {
#line 6033 "tabby.c"
		TabbyBaseStorage* _tmp7_;
#line 684 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = self->priv->storage;
#line 684 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_storage_start_new_session (_tmp7_);
#line 6039 "tabby.c"
	} else {
		TabbyBaseStorage* _tmp8_;
#line 686 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = self->priv->storage;
#line 686 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_istorage_restore_last_sessions ((TabbyIStorage*) _tmp8_);
#line 6046 "tabby.c"
	}
#line 690 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _tabby_manager_execute_commands_gsource_func, g_object_ref (self), g_object_unref);
#line 692 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = FALSE;
#line 692 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 6054 "tabby.c"
}


static gboolean
tabby_manager_execute_commands (TabbyManager* self)
{
	gboolean result = FALSE;
	MidoriApp* app = NULL;
	MidoriApp* _tmp0_;
	MidoriApp* _tmp1_;
	gchar** commands = NULL;
	MidoriApp* _tmp2_;
	gconstpointer _tmp3_;
	gint commands_length1;
	gint _commands_size_;
	gchar** _tmp4_;
	gint _tmp4__length1;
#line 695 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 696 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_extension_get_app ((MidoriExtension*) self);
#line 696 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 696 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	app = _tmp1_;
#line 697 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = app;
#line 697 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = g_object_get_data ((GObject*) _tmp2_, "execute-commands");
#line 697 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	commands = _tmp3_;
#line 697 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	commands_length1 = -1;
#line 697 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_commands_size_ = commands_length1;
#line 699 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = commands;
#line 699 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4__length1 = commands_length1;
#line 699 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp4_ != NULL) {
#line 6096 "tabby.c"
		MidoriApp* _tmp5_;
		gchar** _tmp6_;
		gint _tmp6__length1;
#line 700 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = app;
#line 700 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = commands;
#line 700 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6__length1 = commands_length1;
#line 700 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		midori_app_send_command (_tmp5_, _tmp6_);
#line 6108 "tabby.c"
	}
#line 703 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = FALSE;
#line 703 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (app);
#line 703 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 6116 "tabby.c"
}


static void
_tabby_manager_set_open_uris_midori_app_add_browser (MidoriApp* _sender,
                                                     MidoriBrowser* browser,
                                                     gpointer self)
{
#line 726 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_set_open_uris ((TabbyManager*) self, browser);
#line 6127 "tabby.c"
}


static void
tabby_manager_set_open_uris (TabbyManager* self,
                             MidoriBrowser* browser)
{
	MidoriApp* app = NULL;
	MidoriApp* _tmp0_;
	MidoriApp* _tmp1_;
	gchar** uris = NULL;
	MidoriApp* _tmp2_;
	gconstpointer _tmp3_;
	gint uris_length1;
	gint _uris_size_;
	gchar** _tmp4_;
	gint _tmp4__length1;
	MidoriApp* _tmp30_;
	guint _tmp31_;
#line 706 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 706 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 707 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = midori_extension_get_app ((MidoriExtension*) self);
#line 707 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 707 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	app = _tmp1_;
#line 708 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = app;
#line 708 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp3_ = g_object_get_data ((GObject*) _tmp2_, "open-uris");
#line 708 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	uris = _tmp3_;
#line 708 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	uris_length1 = -1;
#line 708 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_uris_size_ = uris_length1;
#line 710 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = uris;
#line 710 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4__length1 = uris_length1;
#line 710 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp4_ != NULL) {
#line 6173 "tabby.c"
		KatzeArray* tabs = NULL;
		KatzeArray* _tmp5_;
		KatzeArray* _tmp27_;
#line 711 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = katze_array_new (KATZE_TYPE_ITEM);
#line 711 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabs = _tmp5_;
#line 6181 "tabby.c"
		{
			gint i = 0;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			i = 0;
#line 6186 "tabby.c"
			{
				gboolean _tmp6_ = FALSE;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				_tmp6_ = TRUE;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
				while (TRUE) {
#line 6193 "tabby.c"
					gchar** _tmp8_;
					gint _tmp8__length1;
					gint _tmp9_;
					const gchar* _tmp10_;
					KatzeItem* item = NULL;
					KatzeItem* _tmp11_;
					KatzeItem* _tmp12_;
					gchar** _tmp13_;
					gint _tmp13__length1;
					gint _tmp14_;
					const gchar* _tmp15_;
					KatzeItem* _tmp16_;
					gchar** _tmp17_;
					gint _tmp17__length1;
					gint _tmp18_;
					const gchar* _tmp19_;
					gchar* _tmp20_;
					gchar* _tmp21_;
					KatzeItem* _tmp22_;
					const gchar* _tmp23_;
					const gchar* _tmp24_;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (!_tmp6_) {
#line 6217 "tabby.c"
						gint _tmp7_;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp7_ = i;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						i = _tmp7_ + 1;
#line 6223 "tabby.c"
					}
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp6_ = FALSE;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp8_ = uris;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp8__length1 = uris_length1;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp9_ = i;
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp10_ = _tmp8_[_tmp9_];
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (!(_tmp10_ != NULL)) {
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						break;
#line 6239 "tabby.c"
					}
#line 714 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp11_ = katze_item_new ();
#line 714 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					item = _tmp11_;
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp12_ = item;
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp13_ = uris;
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp13__length1 = uris_length1;
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp14_ = i;
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp15_ = _tmp13_[_tmp14_];
#line 715 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					katze_item_set_name (_tmp12_, _tmp15_);
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp16_ = item;
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp17_ = uris;
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp17__length1 = uris_length1;
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp18_ = i;
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp19_ = _tmp17_[_tmp18_];
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp20_ = sokoke_magic_uri (_tmp19_, TRUE, TRUE);
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp21_ = _tmp20_;
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					katze_item_set_uri (_tmp16_, _tmp21_);
#line 716 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_g_free0 (_tmp21_);
#line 717 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp22_ = item;
#line 717 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp23_ = katze_item_get_uri (_tmp22_);
#line 717 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_tmp24_ = _tmp23_;
#line 717 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					if (_tmp24_ != NULL) {
#line 6283 "tabby.c"
						KatzeArray* _tmp25_;
						KatzeItem* _tmp26_;
#line 718 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp25_ = tabs;
#line 718 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						_tmp26_ = item;
#line 718 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
						g_signal_emit_by_name (_tmp25_, "add-item", (GObject*) _tmp26_);
#line 6292 "tabby.c"
					}
#line 713 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
					_g_object_unref0 (item);
#line 6296 "tabby.c"
				}
			}
		}
#line 721 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp27_ = tabs;
#line 721 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (!katze_array_is_empty (_tmp27_)) {
#line 6304 "tabby.c"
			KatzeArray* _tmp28_;
			KatzeArray* _tmp29_;
#line 722 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp28_ = tabs;
#line 722 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp29_ = _g_object_ref0 (_tmp28_);
#line 722 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			g_object_set_data_full ((GObject*) browser, "tabby-open-uris", _tmp29_, g_object_unref);
#line 6313 "tabby.c"
		}
#line 710 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (tabs);
#line 6317 "tabby.c"
	}
#line 726 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp30_ = app;
#line 726 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_parse_name ("add-browser", MIDORI_TYPE_APP, &_tmp31_, NULL, FALSE);
#line 726 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_handlers_disconnect_matched (_tmp30_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp31_, 0, NULL, (GCallback) _tabby_manager_set_open_uris_midori_app_add_browser, self);
#line 706 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (app);
#line 6327 "tabby.c"
}


static void
tabby_manager_browser_added (TabbyManager* self,
                             MidoriBrowser* browser)
{
	TabbyBaseSession* session = NULL;
	gconstpointer _tmp0_;
	TabbyBaseSession* _tmp1_;
	TabbyBaseSession* _tmp2_;
#line 729 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 729 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 730 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_object_get_data ((GObject*) browser, "tabby-session");
#line 730 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _g_object_ref0 ((TabbyBaseSession*) _tmp0_);
#line 730 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	session = _tmp1_;
#line 731 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = session;
#line 731 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp2_ == NULL) {
#line 6353 "tabby.c"
		TabbyBaseStorage* _tmp3_;
		TabbyBaseSession* _tmp4_;
		TabbyBaseSession* _tmp5_;
		TabbyBaseSession* _tmp6_;
		TabbyBaseSession* _tmp7_;
		TabbyBaseSession* _tmp8_;
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = self->priv->storage;
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = tabby_base_storage_get_new_session (_tmp3_);
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp5_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, TABBY_BASE_TYPE_SESSION) ? ((TabbyBaseSession*) _tmp4_) : NULL;
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp5_ == NULL) {
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_g_object_unref0 (_tmp4_);
#line 6370 "tabby.c"
		}
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (session);
#line 732 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		session = _tmp5_;
#line 733 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = session;
#line 733 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = _g_object_ref0 (_tmp6_);
#line 733 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_set_data_full ((GObject*) browser, "tabby-session", _tmp7_, g_object_unref);
#line 734 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp8_ = session;
#line 734 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_isession_attach ((TabbyISession*) _tmp8_, browser);
#line 6386 "tabby.c"
	}
#line 729 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (session);
#line 6390 "tabby.c"
}


static void
tabby_manager_browser_removed (TabbyManager* self,
                               MidoriBrowser* browser)
{
	TabbyBaseSession* session = NULL;
	gconstpointer _tmp0_;
	TabbyBaseSession* _tmp1_;
	TabbyBaseSession* _tmp2_;
#line 738 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 738 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (browser != NULL);
#line 739 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = g_object_get_data ((GObject*) browser, "tabby-session");
#line 739 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = _g_object_ref0 ((TabbyBaseSession*) _tmp0_);
#line 739 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	session = _tmp1_;
#line 740 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = session;
#line 740 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp2_ == NULL) {
#line 741 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_warning ("tabby.vala:741: missing session");
#line 6418 "tabby.c"
	} else {
		TabbyBaseSession* _tmp3_;
		gint load_on_startup = 0;
		MidoriApp* _tmp4_;
		MidoriWebSettings* _tmp5_;
		MidoriWebSettings* _tmp6_;
		MidoriWebSettings* _tmp7_;
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_;
		gboolean _tmp10_;
#line 743 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = session;
#line 743 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		tabby_base_session_close (_tmp3_);
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = tabby_APP;
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_get (_tmp4_, "settings", &_tmp5_, NULL);
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp6_ = _tmp5_;
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp7_ = _tmp6_;
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		g_object_get ((GObject*) _tmp7_, "load-on-startup", &load_on_startup, NULL);
#line 747 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp7_);
#line 749 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp9_ = gtk_window_get_destroy_with_parent ((GtkWindow*) browser);
#line 749 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp10_ = _tmp9_;
#line 749 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp10_) {
#line 749 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = TRUE;
#line 6453 "tabby.c"
		} else {
			gint _tmp11_;
#line 750 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp11_ = load_on_startup;
#line 750 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp8_ = _tmp11_ < ((gint) MIDORI_STARTUP_LAST_OPEN_PAGES);
#line 6460 "tabby.c"
		}
#line 749 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp8_) {
#line 6464 "tabby.c"
			TabbyBaseSession* _tmp12_;
#line 752 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp12_ = session;
#line 752 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			tabby_base_session_remove (_tmp12_);
#line 6470 "tabby.c"
		}
	}
#line 738 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (session);
#line 6475 "tabby.c"
}


static void
_tabby_manager_browser_added_midori_app_add_browser (MidoriApp* _sender,
                                                     MidoriBrowser* browser,
                                                     gpointer self)
{
#line 771 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_browser_added ((TabbyManager*) self, browser);
#line 6486 "tabby.c"
}


static void
_tabby_manager_browser_removed_midori_app_remove_browser (MidoriApp* _sender,
                                                          MidoriBrowser* browser,
                                                          gpointer self)
{
#line 772 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_browser_removed ((TabbyManager*) self, browser);
#line 6497 "tabby.c"
}


static gboolean
_tabby_manager_load_session_gsource_func (gpointer self)
{
	gboolean result;
	result = tabby_manager_load_session ((TabbyManager*) self);
#line 774 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 6508 "tabby.c"
}


static void
tabby_manager_activated (TabbyManager* self,
                         MidoriApp* app)
{
	MidoriApp* _tmp0_;
	const gchar* restore_count = NULL;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	MidoriApp* _tmp6_;
	TabbyLocalStorage* _tmp7_;
	TabbyBaseStorage* _tmp8_;
#line 757 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 757 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (app != NULL);
#line 758 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = _g_object_ref0 (app);
#line 758 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (tabby_APP);
#line 758 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_APP = _tmp0_;
#line 759 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp1_ = g_getenv ("TABBY_RESTORE_COUNT");
#line 759 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	restore_count = _tmp1_;
#line 760 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = restore_count;
#line 760 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp2_ != NULL) {
#line 6541 "tabby.c"
		gint count = 0;
		const gchar* _tmp3_;
		gint _tmp4_;
#line 761 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp3_ = restore_count;
#line 761 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		count = atoi (_tmp3_);
#line 762 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_tmp4_ = count;
#line 762 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		if (_tmp4_ >= 1) {
#line 6553 "tabby.c"
			gint _tmp5_;
#line 763 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			_tmp5_ = count;
#line 763 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
			tabby_IDLE_RESTORE_COUNT = _tmp5_;
#line 6559 "tabby.c"
		}
	}
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp6_ = midori_extension_get_app ((MidoriExtension*) self);
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp7_ = tabby_local_storage_new (_tmp6_);
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp8_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, TABBY_BASE_TYPE_STORAGE) ? ((TabbyBaseStorage*) _tmp7_) : NULL;
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	if (_tmp8_ == NULL) {
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
		_g_object_unref0 (_tmp7_);
#line 6572 "tabby.c"
	}
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->storage);
#line 768 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->storage = _tmp8_;
#line 770 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (app, "add-browser", (GCallback) _tabby_manager_set_open_uris_midori_app_add_browser, self, 0);
#line 771 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (app, "add-browser", (GCallback) _tabby_manager_browser_added_midori_app_add_browser, self, 0);
#line 772 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object (app, "remove-browser", (GCallback) _tabby_manager_browser_removed_midori_app_remove_browser, self, 0);
#line 774 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _tabby_manager_load_session_gsource_func, g_object_ref (self), g_object_unref);
#line 6586 "tabby.c"
}


static void
tabby_manager_deactivated (TabbyManager* self)
{
	MidoriApp* _tmp0_;
	guint _tmp1_;
	MidoriApp* _tmp2_;
	guint _tmp3_;
	MidoriApp* _tmp4_;
	guint _tmp5_;
#line 777 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_return_if_fail (self != NULL);
#line 780 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_APP;
#line 780 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_parse_name ("add-browser", MIDORI_TYPE_APP, &_tmp1_, NULL, FALSE);
#line 780 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _tabby_manager_set_open_uris_midori_app_add_browser, self);
#line 781 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp2_ = tabby_APP;
#line 781 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_parse_name ("add-browser", MIDORI_TYPE_APP, &_tmp3_, NULL, FALSE);
#line 781 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _tabby_manager_browser_added_midori_app_add_browser, self);
#line 782 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp4_ = tabby_APP;
#line 782 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_parse_name ("remove-browser", MIDORI_TYPE_APP, &_tmp5_, NULL, FALSE);
#line 782 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _tabby_manager_browser_removed_midori_app_remove_browser, self);
#line 783 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (tabby_APP);
#line 783 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_APP = NULL;
#line 785 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->storage);
#line 785 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv->storage = NULL;
#line 6627 "tabby.c"
}


static void
_tabby_manager_activated_midori_extension_activate (MidoriExtension* _sender,
                                                    MidoriApp* app,
                                                    gpointer self)
{
#line 794 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_activated ((TabbyManager*) self, app);
#line 6638 "tabby.c"
}


static void
_tabby_manager_deactivated_midori_extension_deactivate (MidoriExtension* _sender,
                                                        gpointer self)
{
#line 795 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_deactivated ((TabbyManager*) self);
#line 6648 "tabby.c"
}


TabbyManager*
tabby_manager_construct (GType object_type)
{
	TabbyManager * self = NULL;
#line 789 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = (TabbyManager*) g_object_new (object_type, "name", _ ("Tabby"), "description", _ ("Tab and session management."), "version", "0.1", "authors", "André Stösel <andre@stoesel.de>", NULL);
#line 794 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object ((MidoriExtension*) self, "activate", (GCallback) _tabby_manager_activated_midori_extension_activate, self, 0);
#line 795 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_signal_connect_object ((MidoriExtension*) self, "deactivate", (GCallback) _tabby_manager_deactivated_midori_extension_deactivate, self, 0);
#line 788 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return self;
#line 6664 "tabby.c"
}


TabbyManager*
tabby_manager_new (void)
{
#line 788 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return tabby_manager_construct (TABBY_TYPE_MANAGER);
#line 6673 "tabby.c"
}


static void
tabby_manager_class_init (TabbyManagerClass * klass)
{
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	tabby_manager_parent_class = g_type_class_peek_parent (klass);
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	g_type_class_add_private (klass, sizeof (TabbyManagerPrivate));
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (klass)->finalize = tabby_manager_finalize;
#line 6686 "tabby.c"
}


static void
tabby_manager_instance_init (TabbyManager * self)
{
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self->priv = TABBY_MANAGER_GET_PRIVATE (self);
#line 6695 "tabby.c"
}


static void
tabby_manager_finalize (GObject * obj)
{
	TabbyManager * self;
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TABBY_TYPE_MANAGER, TabbyManager);
#line 677 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_g_object_unref0 (self->priv->storage);
#line 676 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	G_OBJECT_CLASS (tabby_manager_parent_class)->finalize (obj);
#line 6709 "tabby.c"
}


GType
tabby_manager_get_type (void)
{
	static volatile gsize tabby_manager_type_id__volatile = 0;
	if (g_once_init_enter (&tabby_manager_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TabbyManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tabby_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TabbyManager), 0, (GInstanceInitFunc) tabby_manager_instance_init, NULL };
		GType tabby_manager_type_id;
		tabby_manager_type_id = g_type_register_static (MIDORI_TYPE_EXTENSION, "TabbyManager", &g_define_type_info, 0);
		g_once_init_leave (&tabby_manager_type_id__volatile, tabby_manager_type_id);
	}
	return tabby_manager_type_id__volatile;
}


MidoriExtension*
extension_init (void)
{
	MidoriExtension* result = NULL;
	TabbyManager* _tmp0_;
#line 801 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	_tmp0_ = tabby_manager_new ();
#line 801 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	result = (MidoriExtension*) _tmp0_;
#line 801 "/home/midiba/Documents/glibc/pvd-aware-app/midori/extensions/tabby.vala"
	return result;
#line 6738 "tabby.c"
}



